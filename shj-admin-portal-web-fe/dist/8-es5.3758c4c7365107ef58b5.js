function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"904P":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fXoL"),a=n("3Pt+"),i=n("jhN1"),o=n("FpO7"),l=n("fXoL");t.TextMaskConfig=function(){},t.MASKEDINPUT_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef((function(){return c})),multi:!0};var c=function(){function e(e,t,n){var r;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.textMaskConfig={mask:[],guide:!0,placeholderChar:"_",pipe:void 0,keepCharPositions:!1},this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=i.\u0275getDOM()?i.\u0275getDOM().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return e.prototype.ngOnChanges=function(e){this._setupMask(!0),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(this.inputElement.value)},e.prototype.writeValue=function(e){this._setupMask(),this._renderer.setProperty(this.inputElement,"value",null==e?"":e),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&(this._setupMask(),void 0!==this.textMaskInputElement&&(this.textMaskInputElement.update(e),this.onChange(e=this.inputElement.value)))},e.prototype._setupMask=function(e){void 0===e&&(e=!1),this.inputElement||(this.inputElement="INPUT"===this._elementRef.nativeElement.tagName.toUpperCase()?this._elementRef.nativeElement:this._elementRef.nativeElement.getElementsByTagName("INPUT")[0]),this.inputElement&&e&&(this.textMaskInputElement=o.createTextMaskInputElement(Object.assign({inputElement:this.inputElement},this.textMaskConfig)))},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this._handleInput(e)},e.propDecorators={textMaskConfig:[{type:r.Input,args:["textMask"]}]},e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(a.COMPOSITION_BUFFER_MODE,8))},e.\u0275dir=l.\u0275\u0275defineDirective({type:e,selectors:[["","textMask",""]],hostBindings:function(e,t){1&e&&l.\u0275\u0275listener("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},inputs:{textMaskConfig:["textMask","textMaskConfig"]},exportAs:["textMask"],features:[l.\u0275\u0275ProvidersFeature([t.MASKEDINPUT_VALUE_ACCESSOR]),l.\u0275\u0275NgOnChangesFeature]}),e}();t.MaskedInputDirective=c,t.TextMaskModule=function(){function e(){}return e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({factory:function(t){return new(t||e)}}),e}();var s=n("FpO7");t.conformToMask=s.conformToMask},FpO7:function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return r(a).default}});var i=n(2);Object.defineProperty(t,"adjustCaretPosition",{enumerable:!0,get:function(){return r(i).default}});var o=n(5);Object.defineProperty(t,"createTextMaskInputElement",{enumerable:!0,get:function(){return r(o).default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,a=void 0===t?r:t,i=e.previousPlaceholder,o=void 0===i?r:i,l=e.currentCaretPosition,c=void 0===l?0:l,s=e.conformedValue,d=e.rawValue,p=e.placeholderChar,u=e.placeholder,m=e.indexesOfPipedChars,f=void 0===m?n:m,g=e.caretTrapIndexes,v=void 0===g?n:g;if(0===c||!d.length)return 0;var h=a.length,y=u.length,x=s.length,b=d.length-h,_=b>0;if(b>1&&!_&&0!==h)return c;var S=0,E=void 0,I=void 0;if(!_||a!==s&&s!==u){var C=s.toLowerCase(),k=d.toLowerCase().substr(0,c).split(r).filter((function(e){return-1!==C.indexOf(e)}));I=k[k.length-1];var A=o.substr(0,k.length).split(r).filter((function(e){return e!==p})).length,w=u.substr(0,k.length).split(r).filter((function(e){return e!==p})).length;!_&&(w!==A||void 0!==o[k.length-1]&&void 0!==u[k.length-2]&&o[k.length-1]!==p&&o[k.length-1]!==u[k.length-1]&&o[k.length-1]===u[k.length-2])&&A>0&&u.indexOf(I)>-1&&void 0!==d[c]&&(E=!0,I=d[c]);for(var O=f.map((function(e){return C[e]})).filter((function(e){return e===I})).length,M=k.filter((function(e){return e===I})).length,P=u.substr(0,u.indexOf(p)).split(r).filter((function(e,t){return e===I&&d[t]!==e})).length+M+O+(E?1:0),F=0,T=0;T<x&&(S=T+1,C[T]===I&&F++,!(F>=P));T++);}else S=c-b;if(_){for(var B=S,V=S;V<=y;V++)if(u[V]===p&&(B=V),u[V]===p||-1!==v.indexOf(V)||V===y)return B}else if(E){for(var L=S-1;L>=0;L--)if(s[L]===I||-1!==v.indexOf(L)||0===L)return L}else for(var j=S;j>=0;j--)if(u[j-1]===p||-1!==v.indexOf(j)||0===j)return j};var n=[],r=""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,a.isArray)(t)){if((void 0===t?"undefined":r(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,n),t=(0,a.processCaretTraps)(t).maskWithoutCaretTraps}var c=n.guide,s=void 0===c||c,d=n.previousConformedValue,p=void 0===d?l:d,u=n.placeholderChar,m=void 0===u?i.placeholderChar:u,f=n.placeholder,g=void 0===f?(0,a.convertMaskToPlaceholder)(t,m):f,v=n.currentCaretPosition,h=n.keepCharPositions,y=!1===s&&void 0!==p,x=e.length,b=p.length,_=g.length,S=t.length,E=x-b,I=E>0,C=v+(I?-E:0),k=C+Math.abs(E);if(!0===h&&!I){for(var A=l,w=C;w<k;w++)g[w]===m&&(A+=m);e=e.slice(0,C)+A+e.slice(C,x)}for(var O=e.split(l).map((function(e,t){return{char:e,isNew:t>=C&&t<k}})),M=x-1;M>=0;M--){var P=O[M].char;if(P!==m){var F=M>=C&&b===S;P===g[F?M-E:M]&&O.splice(M,1)}}var T=l,B=!1;e:for(var V=0;V<_;V++){var L=g[V];if(L===m){if(O.length>0)for(;O.length>0;){var j=O.shift(),R=j.char,N=j.isNew;if(R===m&&!0!==y){T+=m;continue e}if(t[V].test(R)){if(!0===h&&!1!==N&&p!==l&&!1!==s&&I){for(var D=O.length,q=null,U=0;U<D;U++){var $=O[U];if($.char!==m&&!1===$.isNew)break;if($.char===m){q=U;break}}null!==q?(T+=R,O.splice(q,1)):V--}else T+=R;continue e}B=!0}!1===y&&(T+=g.substr(V,_));break}T+=L}if(y&&!1===I){for(var W=null,G=0;G<T.length;G++)g[G]===m&&(W=G);T=null!==W?T.substr(0,W+1):l}return{conformedValue:T,meta:{someCharsRejected:B}}};var a=n(4),i=n(1),o=[],l=""},function(e,t,n){"use strict";function r(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.placeholderChar;if(!r(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")},t.isArray=r,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.isNil=function(e){return null==e},t.processCaretTraps=function(e){for(var t=[],n=void 0;-1!==(n=e.indexOf(o));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}};var a=n(1),i=[],o="[]"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){document.activeElement===e&&(g?v((function(){return e.setSelectionRange(t,t,m)}),0):e.setSelectionRange(t,t,m))}function i(e){if((0,d.isString)(e))return e;if((0,d.isNumber)(e))return String(e);if(null==e)return u;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,m=r.inputElement,g=r.mask,v=r.guide,h=r.pipe,y=r.placeholderChar,x=void 0===y?p.placeholderChar:y,b=r.keepCharPositions,_=void 0!==b&&b,S=r.showMask,E=void 0!==S&&S;if(void 0===n&&(n=m.value),n!==t.previousConformedValue){(void 0===g?"undefined":l(g))===f&&void 0!==g.pipe&&void 0!==g.mask&&(h=g.pipe,g=g.mask);var I=void 0,C=void 0;if(g instanceof Array&&(I=(0,d.convertMaskToPlaceholder)(g,x)),!1!==g){var k=i(n),A=m.selectionEnd,w=t.previousConformedValue,O=t.previousPlaceholder,M=void 0;if((void 0===g?"undefined":l(g))===p.strFunction){if(!1===(C=g(k,{currentCaretPosition:A,previousConformedValue:w,placeholderChar:x})))return;var P=(0,d.processCaretTraps)(C),F=P.maskWithoutCaretTraps,T=P.indexes;M=T,I=(0,d.convertMaskToPlaceholder)(C=F,x)}else C=g;var B={previousConformedValue:w,guide:v,placeholderChar:x,pipe:h,placeholder:I,currentCaretPosition:A,keepCharPositions:_},V=(0,s.default)(k,C,B),L=V.conformedValue,j=(void 0===h?"undefined":l(h))===p.strFunction,R={};j&&(!1===(R=h(L,o({rawValue:k},B)))?R={value:w,rejected:!0}:(0,d.isString)(R)&&(R={value:R}));var N=j?R.value:L,D=(0,c.default)({previousConformedValue:w,previousPlaceholder:O,conformedValue:N,placeholder:I,rawValue:k,currentCaretPosition:A,placeholderChar:x,indexesOfPipedChars:R.indexesOfPipedChars,caretTrapIndexes:M}),q=N===I&&0===D,U=E?I:u,$=q?U:N;t.previousConformedValue=$,t.previousPlaceholder=I,m.value!==$&&(m.value=$,a(m,D))}}}}};var c=r(n(2)),s=r(n(3)),d=n(4),p=n(1),u="",m="none",f="object",g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),v="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])},"wu7/":function(e,t,n){"use strict";n.r(t),n.d(t,"RoleManagementModule",(function(){return Re}));var r=n("ofXK"),a=n("tyNb"),i=n("rBgB"),o=n("6LkC"),l=n("yqJO"),c=n("mMUb"),s=n("ytaz"),d=n("fXoL"),p=n("FD72"),u=n("3Pt+"),m=n("sYmb"),f=n("ocNh"),g=n("1kSV");function v(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"a",5),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"general.btn_add")," "))}function h(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementStart"](3,"span",7),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function y(e,t){1&e&&d["\u0275\u0275element"](0,"input",26)}function x(e,t){1&e&&d["\u0275\u0275element"](0,"input",27)}function b(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",28),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=d["\u0275\u0275nextContext"](3);d["\u0275\u0275property"]("ngValue",n.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.nameEnglish:n.nameArabic," ")}}function _(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"optgroup"),d["\u0275\u0275elementStart"](1,"option",28),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](3,b,2,2,"option",29),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=d["\u0275\u0275nextContext"](2);d["\u0275\u0275attribute"]("label",r.currentLanguage.startsWith("en")?n.nameEnglish:n.nameArabic),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngValue",n.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.nameEnglish:n.nameArabic," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",n.children)}}function S(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"tr",30),d["\u0275\u0275elementStart"](1,"td",31),d["\u0275\u0275element"](2,"svg-icon",32),d["\u0275\u0275elementStart"](3,"p",33),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,1,"general.table_emtpy_text")))}function E(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",49),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3).$implicit,r=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.authority.nameEnglish:n.authority.nameArabic," ")}}function I(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",49),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit,r=d["\u0275\u0275nextContext"](6);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.authority.nameEnglish:n.authority.nameArabic," ")}}function C(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,I,2,1,"span",48),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,r=d["\u0275\u0275nextContext"](3).$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.authority.parentId===r.authority.id)}}function k(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",47),d["\u0275\u0275text"](1),d["\u0275\u0275template"](2,E,2,1,"span",48),d["\u0275\u0275template"](3,C,2,1,"ng-container",16),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2).$implicit,r=d["\u0275\u0275nextContext"]().$implicit,a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.currentLanguage.startsWith("en")?n.authority.nameEnglish:n.authority.nameArabic," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!(n.authority.parentId||n.authority.children&&n.authority.children.length)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",r.roleAuthorities)}}function A(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,k,4,3,"a",46),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!n.authority.parentId)}}function w(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,A,2,1,"ng-container",45),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!n.authority.parentId)}}function O(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",50),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.activated")," "))}function M(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",51),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated")," "))}var P=function(e){return["/roles/update",e]},F=function(){return{edit:!0}};function T(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",52),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",53),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,3,"general.tooltip_edit")),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](5,P,null==n?null:n.id))("queryParams",d["\u0275\u0275pureFunction0"](7,F))}}function B(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"a",54),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).deactivateRole(e.id)})),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",55),d["\u0275\u0275elementEnd"]()}2&e&&d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,1,"general.tooltip_deactivate"))}function V(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"a",54),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).activateRole(e.id)})),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",56),d["\u0275\u0275elementEnd"]()}2&e&&d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,1,"general.tooltip_activate"))}function L(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"a",54),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).deleteRole(e.id)})),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",57),d["\u0275\u0275elementEnd"]()}2&e&&d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,1,"general.tooltip_delete"))}var j=function(e){return["/roles/details",e]};function R(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td",34),d["\u0275\u0275elementStart"](2,"a",35),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"td",36),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"td"),d["\u0275\u0275template"](7,w,2,1,"ng-container",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td",37),d["\u0275\u0275template"](9,O,3,3,"span",38),d["\u0275\u0275template"](10,M,3,3,"span",39),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"td",40),d["\u0275\u0275template"](12,T,3,8,"a",41),d["\u0275\u0275template"](13,B,3,3,"a",42),d["\u0275\u0275template"](14,V,3,3,"a",42),d["\u0275\u0275template"](15,L,3,3,"a",42),d["\u0275\u0275elementStart"](16,"a",43),d["\u0275\u0275pipe"](17,"translate"),d["\u0275\u0275element"](18,"svg-icon",44),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](14,j,null==n?null:n.id)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](n.id),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](r.currentLanguage.startsWith("en")?n.nameEnglish:n.nameArabic),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",n.roleAuthorities),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",n.activated),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!n.activated),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",n.id!=r.loggedInUserRoleId&&r.canEditRole),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.id!=r.loggedInUserRoleId&&n.activated&&r.canChangeRoleStatus),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.id!=r.loggedInUserRoleId&&!n.activated&&r.canChangeRoleStatus),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.id!=r.loggedInUserRoleId&&r.canDeleteRole),d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](17,12,"general.tooltip_view")),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](16,j,null==n?null:n.id))}}function N(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"li",60),d["\u0275\u0275elementStart"](1,"a",63),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=t.index;return d["\u0275\u0275nextContext"](3).loadPage(e)})),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var r=t.index,a=d["\u0275\u0275nextContext"](3);d["\u0275\u0275classProp"]("active",(null==a.page?null:a.page.number)==r),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](r+1)}}function D(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nav",58),d["\u0275\u0275elementStart"](1,"ul",59),d["\u0275\u0275elementStart"](2,"li",60),d["\u0275\u0275elementStart"](3,"a",61),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"](2);return e.loadPage((null==e.page?null:e.page.number)-1)})),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,N,3,3,"li",62),d["\u0275\u0275elementStart"](7,"li",60),d["\u0275\u0275elementStart"](8,"a",63),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](n);var e=d["\u0275\u0275nextContext"](2);return e.loadPage((null==e.page?null:e.page.number)+1)})),d["\u0275\u0275text"](9),d["\u0275\u0275pipe"](10,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var r=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("disabled",null==r.page?null:r.page.first),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](5,7,"general.nav_previous")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",r.pageArray),d["\u0275\u0275advance"](1),d["\u0275\u0275classProp"]("disabled",null==r.page?null:r.page.last),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](10,9,"general.nav_next")," ")}}function q(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"div",8),d["\u0275\u0275elementStart"](2,"form",9),d["\u0275\u0275elementStart"](3,"div",10),d["\u0275\u0275elementStart"](4,"label",11),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,y,1,0,"input",12),d["\u0275\u0275template"](8,x,1,0,"input",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",10),d["\u0275\u0275elementStart"](10,"label",11),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"select",14),d["\u0275\u0275elementStart"](14,"option",15),d["\u0275\u0275text"](15),d["\u0275\u0275pipe"](16,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](17,_,4,4,"optgroup",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",17),d["\u0275\u0275elementStart"](19,"button",18),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().search()})),d["\u0275\u0275text"](20),d["\u0275\u0275pipe"](21,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"button",19),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().cancelSearch()})),d["\u0275\u0275text"](23),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",20),d["\u0275\u0275elementStart"](26,"table",21),d["\u0275\u0275elementStart"](27,"thead"),d["\u0275\u0275elementStart"](28,"tr"),d["\u0275\u0275elementStart"](29,"th",22),d["\u0275\u0275text"](30,"#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"th",23),d["\u0275\u0275text"](32),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"th",22),d["\u0275\u0275text"](35),d["\u0275\u0275pipe"](36,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](37,"th",22),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](40,"th",22),d["\u0275\u0275text"](41),d["\u0275\u0275pipe"](42,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"tbody"),d["\u0275\u0275template"](44,S,6,3,"tr",24),d["\u0275\u0275template"](45,R,19,18,"tr",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](46,D,11,11,"nav",25),d["\u0275\u0275elementEnd"]()}if(2&e){var r=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("formGroup",r.searchForm),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](6,18,"role-management.role_name")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",r.currentLanguage.startsWith("ar")),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",r.currentLanguage.startsWith("en")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](12,20,"role-management.authority")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngValue",-1),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](16,22,"general.select_option")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",r.authorities),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("disabled",r.searchForm.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](21,24,"general.btn_search")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](24,26,"general.btn_clear")," "),d["\u0275\u0275advance"](9),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](33,28,"role-management.role_name")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](36,30,"role-management.authorities")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](39,32,"role-management.role_status")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](42,34,"general.actions")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",!(null!=r.page&&r.page.content)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",null==r.page?null:r.page.content),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==r.page?null:r.page.content)}}var U,$=((U=function(){function e(t,n,r,a,i,o,l){_classCallCheck(this,e),this.i18nService=t,this.roleService=n,this.formBuilder=r,this.toastr=a,this.translate=i,this.confirmDialogService=o,this.authenticationService=l}return _createClass(e,[{key:"ngOnInit",value:function(){var e;this.loggedInUserRoleId=null===(e=this.authenticationService.currentUser.role)||void 0===e?void 0:e.id,this.canAddRole=this.authenticationService.hasAuthority(s.a.ADD_ROLE),this.loadPage(0),this.initForm(),this.getAuthorities()}},{key:"ngOnDestroy",value:function(){this.listSubscription&&this.listSubscription.unsubscribe(),this.activateSubscription&&this.activateSubscription.unsubscribe(),this.deactivateSubscription&&this.deactivateSubscription.unsubscribe(),this.deleteSubscription&&this.deleteSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe()}},{key:"getAuthorities",value:function(){var e=this;this.roleService.listAuthorities().subscribe((function(t){e.authorities=_toConsumableArray(t)}))}},{key:"initForm",value:function(){this.searchForm=this.formBuilder.group({authorityId:[-1],roleNameAr:[null],roleNameEn:[null]})}},{key:"loadPage",value:function(e){var t=this;this.listSubscription=this.roleService.listPaginated().subscribe((function(e){t.page=e,null!=t.page&&(t.pageArray=Array.from(t.pageCounter(t.page.totalPages)),t.roles=t.page.content,t.canEditRole=t.authenticationService.hasAuthority(s.a.EDIT_ROLE),t.canChangeRoleStatus=t.authenticationService.hasAuthority(s.a.CHANGE_ROLE_STATUS),t.canDeleteRole=t.authenticationService.hasAuthority(s.a.DELETE_ROLE))}))}},{key:"pageCounter",value:function(e){return new Array(e)}},{key:"currentLanguage",get:function(){return this.i18nService.language}},{key:"search",value:function(){var e=this;this.searchSubscription=this.roleService.search(this.searchForm.value.authorityId,this.searchForm.value.roleNameAr,this.searchForm.value.roleNameEn).subscribe((function(t){e.roles=[],e.pageArray=[],e.page=t,null!=e.page&&(e.pageArray=Array.from(e.pageCounter(e.page.totalPages)),e.roles=e.page.content)}))}},{key:"cancelSearch",value:function(){this.loadPage(0),this.initForm()}},{key:"deleteRole",value:function(e){var t=this;this.confirmDialogService.confirm("role-management.dialog_delete_confirm_text","role-management.dialog_delete_title").then((function(n){n&&(t.deleteSubscription=t.roleService.delete(e).subscribe((function(e){t.toastr.success(t.translate.instant("role-management.dialog_delete_success_text"),t.translate.instant("role-management.dialog_delete_title")),t.loadPage(0)}),(function(e){t.toastr.error(t.translate.instant("general.dialog_error_text"),t.translate.instant("role-management.dialog_delete_title"))})))}))}},{key:"activateRole",value:function(e){var t=this;this.confirmDialogService.confirm("role-management.dialog_activate_confirm_text","role-management.dialog_activate_title").then((function(n){n&&(t.activateSubscription=t.roleService.activate(e).subscribe((function(e){t.toastr.success(t.translate.instant("role-management.dialog_activate_success_text"),t.translate.instant("role-management.dialog_activate_title")),t.loadPage(0)}),(function(e){t.toastr.error(t.translate.instant("general.dialog_error_text"),t.translate.instant("role-management.dialog_activate_title"))})))}))}},{key:"deactivateRole",value:function(e){var t=this;this.confirmDialogService.confirm("role-management.dialog_deactivate_confirm_text","role-management.dialog_deactivate_title").then((function(n){n&&(t.deactivateSubscription=t.roleService.deactivate(e).subscribe((function(e){t.toastr.success(t.translate.instant("role-management.dialog_deactivate_success_text"),t.translate.instant("role-management.dialog_deactivate_title")),t.loadPage(0)}),(function(e){t.toastr.error(t.translate.instant("general.dialog_error_text"),t.translate.instant("role-management.dialog_deactivate_title"))})))}))}},{key:"canSeeRoleList",get:function(){return this.authenticationService.hasAuthority(s.a.ROLE_MANAGEMENT)}}]),e}()).\u0275fac=function(e){return new(e||U)(d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](u.FormBuilder),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](m.e),d["\u0275\u0275directiveInject"](c.b),d["\u0275\u0275directiveInject"](o.b))},U.\u0275cmp=d["\u0275\u0275defineComponent"]({type:U,selectors:[["app-applicant-list"]],decls:8,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],["routerLink","/roles/create","class","btn btn-outline-dcc-primary px-4",4,"ngIf"],["class","content__section",4,"ngIf"],["routerLink","/roles/create",1,"btn","btn-outline-dcc-primary","px-4"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],[1,"searchBox"],["enctype","multipart/form-data",1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3",3,"formGroup"],[1,"form-group","col"],[1,"col-form-label"],["type","text","formControlName","roleNameAr","class","form-control",4,"ngIf"],["type","text","formControlName","roleNameEn","class","form-control",4,"ngIf"],["formControlName","authorityId",1,"custom-select"],["disabled","","selected","",1,"hidden",3,"ngValue"],[4,"ngFor","ngForOf"],[1,"form-group","col","align-self-end"],["type","submit",1,"btn","btn-outline-dcc-primary","px-5","mr-3",3,"disabled","click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"table-responsive","my-4"],[1,"table","table-striped","table-hover"],["scope","col",1,"text-center"],["scope","col"],["class","text-center",4,"ngIf"],["aria-label","Page navigation example",4,"ngIf"],["type","text","formControlName","roleNameAr",1,"form-control"],["type","text","formControlName","roleNameEn",1,"form-control"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"text-center"],["colspan","10"],["styleClass","display-1 text-light-gray","icon","empty-set"],[1,"text-light-gray","mb-3"],["scope","row",1,"text-center"],[1,"text-dcc-primary","font-weight-bold",3,"routerLink"],["width","15%"],[2,"text-align","center"],["class","badge badge-success py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-warning py-2 px-4 badge-pill",4,"ngIf"],["width","20%",1,"text-center",2,"text-align","center"],["class","action mx-2",3,"routerLink","queryParams","ngbTooltip",4,"ngIf"],["class","action mx-2","href","javascript:void(0)",3,"ngbTooltip","click",4,"ngIf"],[1,"action","mx-2",3,"routerLink","ngbTooltip"],["styleClass","text-dcc-primary h3","icon","eye"],[4,"ngIf"],["class","badge badge-info py-1 px-2 badge-pill mx-1","href","javascript:void(0);",4,"ngIf"],["href","javascript:void(0);",1,"badge","badge-info","py-1","px-2","badge-pill","mx-1"],["class","badge badge-dcc-primary py-1 px-2 badge-pill mx-1",4,"ngIf"],[1,"badge","badge-dcc-primary","py-1","px-2","badge-pill","mx-1"],[1,"badge","badge-success","py-2","px-4","badge-pill"],[1,"badge","badge-warning","py-2","px-4","badge-pill"],[1,"action","mx-2",3,"routerLink","queryParams","ngbTooltip"],["styleClass","text-info h3","icon","edit"],["href","javascript:void(0)",1,"action","mx-2",3,"ngbTooltip","click"],["styleClass","text-warning h3","icon","user-tag-minus"],["styleClass","text-success h3","icon","user-tag-check"],["styleClass","text-danger h3","icon","user-tag-times"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["tabindex","-1",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"h2",2),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](5,v,3,3,"a",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,h,6,6,"div",4),d["\u0275\u0275template"](7,q,47,36,"div",4),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](4,4,"role-management.roles_list")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.canAddRole),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.canSeeRoleList),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.canSeeRoleList))},directives:[r.u,a.i,u["\u0275angular_packages_forms_forms_y"],u.NgControlStatusGroup,u.FormGroupDirective,u.SelectControlValueAccessor,u.NgControlStatus,u.FormControlName,u.NgSelectOption,u["\u0275angular_packages_forms_forms_x"],r.t,u.DefaultValueAccessor,f.a,g.Q],pipes:[m.d],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),U),W=n("itXk"),G=n("lJxs"),J=n("ADU/");function H(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",5),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementStart"](3,"span",6),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function X(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3).$implicit,r=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.authority.nameEnglish:n.authority.nameArabic," ")}}function K(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit,r=d["\u0275\u0275nextContext"](5);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.authority.nameEnglish:n.authority.nameArabic," ")}}function z(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,K,2,1,"span",21),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,r=d["\u0275\u0275nextContext"](3).$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.authority.parentId===r.authority.id)}}function Q(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",20),d["\u0275\u0275text"](1),d["\u0275\u0275template"](2,X,2,1,"span",21),d["\u0275\u0275template"](3,z,2,1,"ng-container",13),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2).$implicit,r=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.authority.nameEnglish:n.authority.nameArabic," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!(n.authority.parentId||n.authority.children&&n.authority.children.length)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",r.role.roleAuthorities)}}function Y(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Q,4,3,"a",19),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!n.authority.parentId)}}function Z(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Y,2,1,"ng-container",18),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!n.authority.parentId)}}function ee(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",23),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated")," "))}function te(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",24),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.activated")," "))}var ne=function(){return["/roles/list"]};function re(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",5),d["\u0275\u0275elementStart"](1,"form",7),d["\u0275\u0275elementStart"](2,"div",8),d["\u0275\u0275elementStart"](3,"div",9),d["\u0275\u0275elementStart"](4,"label",10),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"span",11),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",12),d["\u0275\u0275elementStart"](10,"label",10),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"div",11),d["\u0275\u0275template"](14,Z,2,1,"ng-container",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",9),d["\u0275\u0275elementStart"](16,"label",10),d["\u0275\u0275text"](17),d["\u0275\u0275pipe"](18,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",11),d["\u0275\u0275template"](20,ee,3,3,"span",14),d["\u0275\u0275template"](21,te,3,3,"span",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"div",9),d["\u0275\u0275elementStart"](23,"label",10),d["\u0275\u0275text"](24),d["\u0275\u0275pipe"](25,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"span",11),d["\u0275\u0275text"](27),d["\u0275\u0275pipe"](28,"dateFormat"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"div",9),d["\u0275\u0275elementStart"](30,"label",10),d["\u0275\u0275text"](31),d["\u0275\u0275pipe"](32,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](33,"span",11),d["\u0275\u0275text"](34),d["\u0275\u0275pipe"](35,"dateFormat"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](36,"div",16),d["\u0275\u0275elementStart"](37,"button",17),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](6,13,"role-management.role_name")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](n.currentLanguage.startsWith("en")?null==n.role?null:n.role.nameEnglish:null==n.role?null:n.role.nameArabic),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](12,15,"role-management.authorities")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",null==n.role?null:n.role.roleAuthorities),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](18,17,"role-management.role_status")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",!(null!=n.role&&n.role.activated)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==n.role?null:n.role.activated),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](25,19,"role-management.creation_date")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](28,21,null==n.role?null:n.role.creationDate)),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](32,23,"role-management.update_date")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](null!=n.role&&n.role.updateDate?d["\u0275\u0275pipeBind1"](35,25,null==n.role?null:n.role.updateDate):"--"),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction0"](29,ne)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](39,27,"general.btn_back")," ")}}var ae,ie=((ae=function(){function e(t,n,r,a,i,o,l,c){_classCallCheck(this,e),this.route=t,this.router=n,this.toastr=r,this.translate=a,this.formBuilder=i,this.i18nService=o,this.roleService=l,this.authenticationService=c}return _createClass(e,[{key:"f",get:function(){return this.roleDetailsForm.controls}},{key:"currentLanguage",get:function(){return this.i18nService.language}},{key:"loadAuthorities",value:function(){var e=this;this.roleService.listAuthorities().subscribe((function(t){e.authorities=_toConsumableArray(t)}))}},{key:"ngOnInit",value:function(){var e=this;this.editMode=!1,this.loadAuthorities(),this.initForm(),Object(W.a)(this.route.params,this.route.queryParams).pipe(Object(G.a)((function(e){return{params:e[0].id,qParams:e[1]}}))).subscribe((function(t){e.roleId=+t.params,e.roleId?e.roleService.find(e.roleId).subscribe((function(n){n&&n.id?(e.role=n,t.qParams.edit&&e.enableEditMode(),e.updateForm()):(e.toastr.error(e.translate.instant("general.route_item_not_found",{itemId:e.roleId}),e.translate.instant("general.dialog_error_title")),e.goToList())})):(e.toastr.error(e.translate.instant("general.route_id_param_not_found"),e.translate.instant("general.dialog_error_title")),e.goToList())}))}},{key:"goToList",value:function(){this.router.navigate(["/roles/list"])}},{key:"enableEditMode",value:function(){this.editMode=!0}},{key:"saveOrUpdate",value:function(){var e=this;this.roleDetailsForm.invalid||(this.updateUserModel(),this.roleService.saveOrUpdate(this.role).subscribe((function(t){t.hasOwnProperty("errors")&&t.errors?(e.toastr.warning(e.translate.instant("general.dialog_form_error_text"),e.translate.instant("general.dialog_edit_title")),Object.keys(e.roleDetailsForm.controls).forEach((function(n){if(console.log("looking for validation errors for : "+n),t.errors[n]){var r=e.roleDetailsForm.get(n);r.setErrors({invalid:t.errors[n].replace(/\{/,"").replace(/\}/,"")}),r.markAsTouched({onlySelf:!0})}}))):(e.role=t,e.enableViewMode(),e.toastr.success(e.translate.instant("general.dialog_edit_success_text"),e.translate.instant("general.dialog_edit_title")))})))}},{key:"updateUserModel",value:function(){}},{key:"enableViewMode",value:function(){this.editMode=!1}},{key:"initForm",value:function(){this.roleDetailsForm=this.formBuilder.group({id:[""],nin:["",u.Validators.required],gender:[""],mobileNumber:["",u.Validators.required],firstName:["",u.Validators.required],fatherName:["",u.Validators.required],email:["",[u.Validators.required,u.Validators.email]],grandFatherName:[""],familyName:["",u.Validators.required],dateOfBirthGregorian:["",u.Validators.required],dateOfBirthHijri:[""],avatar:[""],roleId:["",u.Validators.required]})}},{key:"updateForm",value:function(){}},{key:"resetUserRolesCheckboxes",value:function(e){var t,n=_createForOfIteratorHelper(this.authorities);try{for(n.s();!(t=n.n()).done&&t.value.id!=e.value;);}catch(r){n.e(r)}finally{n.f()}}},{key:"formatDate",value:function(e){return e.year+"-"+("00"+e.month).slice(-2)+"-"+("00"+e.day).slice(-2)}},{key:"canSeeRoleDetails",get:function(){return this.authenticationService.hasAuthority(s.a.ROLE_MANAGEMENT)}}]),e}()).\u0275fac=function(e){return new(e||ae)(d["\u0275\u0275directiveInject"](a.a),d["\u0275\u0275directiveInject"](a.f),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](m.e),d["\u0275\u0275directiveInject"](u.FormBuilder),d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](o.b))},ae.\u0275cmp=d["\u0275\u0275defineComponent"]({type:ae,selectors:[["app-user-details"]],features:[d["\u0275\u0275ProvidersFeature"]([r.f])],decls:9,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],[1,"text-dcc-primary"],["class","content__section",4,"ngIf"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],["enctype","multipart/form-data"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],[1,"form-group","col"],[1,"col-form-label"],[1,"form-control-plaintext"],[1,"form-group","col","col-lg-8","col-md-8"],[4,"ngFor","ngForOf"],["class","badge badge-danger py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-success py-2 px-4 badge-pill",4,"ngIf"],[1,"content__footer__action"],["type","button",1,"btn","btn-outline-secondary","btn-w100","px-5","mr-3",3,"routerLink"],[4,"ngIf"],["class","badge badge-info py-1 px-2 badge-pill mx-1","href","javascript:void(0);",4,"ngIf"],["href","javascript:void(0);",1,"badge","badge-info","py-1","px-2","badge-pill","mx-1"],["class","badge badge-dcc-primary py-1 px-2 badge-pill mx-1",4,"ngIf"],[1,"badge","badge-dcc-primary","py-1","px-2","badge-pill","mx-1"],[1,"badge","badge-danger","py-2","px-4","badge-pill"],[1,"badge","badge-success","py-2","px-4","badge-pill"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"h2",2),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementStart"](5,"b",3),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,H,6,6,"div",4),d["\u0275\u0275template"](8,re,40,30,"div",4),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](4,4,"role-management.role_details")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](t.currentLanguage.startsWith("en")?null==t.role?null:t.role.nameEnglish:null==t.role?null:t.role.nameArabic),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.canSeeRoleDetails),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.canSeeRoleDetails))},directives:[r.u,u["\u0275angular_packages_forms_forms_y"],u.NgControlStatusGroup,u.NgForm,r.t,a.g],pipes:[m.d,J.c],styles:[".rounded-circle[_ngcontent-%COMP%]{max-width:75px;max-height:75px}#avatarFile[_ngcontent-%COMP%]{display:none}.title__Page[_ngcontent-%COMP%]{align-items:center!important}"]}),ae),oe=n("xJks"),le=n("jJTu"),ce=n("ousT");function se(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"b",5),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("#",null==n.role?null:n.role.id,"")}}function de(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementStart"](3,"span",7),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function pe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function ue(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,n.f.nameArabic.errors.invalid))}}function me(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,n.f.nameArabic.errors["invalid-characters"]))}}function fe(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",24),d["\u0275\u0275template"](1,pe,3,3,"div",25),d["\u0275\u0275template"](2,ue,3,3,"div",25),d["\u0275\u0275template"](3,me,3,3,"div",25),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.nameArabic.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.nameArabic.errors.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.nameArabic.errors["invalid-characters"])}}function ge(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function ve(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,n.f.nameEnglish.errors.invalid))}}function he(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,n.f.nameEnglish.errors["invalid-characters"]))}}function ye(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",24),d["\u0275\u0275template"](1,ge,3,3,"div",25),d["\u0275\u0275template"](2,ve,3,3,"div",25),d["\u0275\u0275template"](3,he,3,3,"div",25),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.nameEnglish.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.nameEnglish.errors.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.nameEnglish.errors["invalid-characters"])}}function xe(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function be(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,n.f.activated.errors.invalid))}}function _e(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",24),d["\u0275\u0275template"](1,xe,3,3,"div",25),d["\u0275\u0275template"](2,be,3,3,"div",25),d["\u0275\u0275elementEnd"]()),2&e){var n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.activated.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.f.activated.errors.invalid)}}var Se=function(){return{standalone:!0}};function Ee(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"label",29),d["\u0275\u0275element"](1,"svg-icon",30),d["\u0275\u0275elementStart"](2,"input",31),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"](2).$implicit.selected=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"]()}if(2&e){var r=d["\u0275\u0275nextContext"](2).$implicit,a=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",r.selected)("ngModelOptions",d["\u0275\u0275pureFunction0"](3,Se)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.currentLanguage.startsWith("en")?r.authority.nameEnglish:r.authority.nameArabic," ")}}function Ie(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"label",29),d["\u0275\u0275element"](1,"svg-icon",30),d["\u0275\u0275elementStart"](2,"input",31),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().$implicit.selected=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"]()}if(2&e){var r=d["\u0275\u0275nextContext"]().$implicit,a=d["\u0275\u0275nextContext"](4);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",r.selected)("ngModelOptions",d["\u0275\u0275pureFunction0"](3,Se)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",a.currentLanguage.startsWith("en")?r.authority.nameEnglish:r.authority.nameArabic," ")}}function Ce(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Ie,4,4,"label",28),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,r=d["\u0275\u0275nextContext"](2).$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.authority.parentId===r.authority.id)}}function ke(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"label",26),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"div",27),d["\u0275\u0275template"](4,Ee,4,4,"label",28),d["\u0275\u0275template"](5,Ce,2,1,"ng-container",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=d["\u0275\u0275nextContext"]().$implicit,r=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",r.currentLanguage.startsWith("en")?n.authority.nameEnglish:n.authority.nameArabic," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",!(n.authority.parentId||n.authority.children&&n.authority.children.length)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",r.roleAuthorities)}}function Ae(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,ke,6,3,"ng-container",25),d["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!n.authority.parentId)}}var we=function(){return["/roles/list"]};function Oe(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"form",8),d["\u0275\u0275listener"]("ngSubmit",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().saveOrUpdateRole()})),d["\u0275\u0275elementStart"](2,"div",9),d["\u0275\u0275elementStart"](3,"div",10),d["\u0275\u0275elementStart"](4,"label",11),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementStart"](7,"span",12),d["\u0275\u0275text"](8,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](9,"input",13),d["\u0275\u0275template"](10,fe,4,3,"div",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",10),d["\u0275\u0275elementStart"](12,"label",11),d["\u0275\u0275text"](13),d["\u0275\u0275pipe"](14,"translate"),d["\u0275\u0275elementStart"](15,"span",12),d["\u0275\u0275text"](16,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](17,"input",15),d["\u0275\u0275template"](18,ye,4,3,"div",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",10),d["\u0275\u0275elementStart"](20,"label",11),d["\u0275\u0275text"](21),d["\u0275\u0275pipe"](22,"translate"),d["\u0275\u0275elementStart"](23,"span",12),d["\u0275\u0275text"](24,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",16),d["\u0275\u0275elementStart"](26,"label",17),d["\u0275\u0275element"](27,"input",18),d["\u0275\u0275text"](28),d["\u0275\u0275pipe"](29,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"label",17),d["\u0275\u0275element"](31,"input",18),d["\u0275\u0275text"](32),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](34,_e,3,2,"div",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](35,"div",19),d["\u0275\u0275elementStart"](36,"div",10),d["\u0275\u0275elementStart"](37,"label",11),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"translate"),d["\u0275\u0275elementStart"](40,"span",12),d["\u0275\u0275text"](41,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](42,Ae,2,1,"ng-container",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"div",21),d["\u0275\u0275elementStart"](44,"button",22),d["\u0275\u0275text"](45),d["\u0275\u0275pipe"](46,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](47,"button",23),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().saveOrUpdateRole()})),d["\u0275\u0275text"](48),d["\u0275\u0275pipe"](49,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var r=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",r.roleForm),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](6,28,"role-management.role_name_ar")),d["\u0275\u0275advance"](4),d["\u0275\u0275classProp"]("is-invalid",r.f.nameArabic.invalid&&r.f.nameArabic.touched),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",r.f.nameArabic.invalid&&r.f.nameArabic.touched),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](14,30,"role-management.role_name_en")),d["\u0275\u0275advance"](4),d["\u0275\u0275classProp"]("is-invalid",r.f.nameEnglish.invalid&&r.f.nameEnglish.touched),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",r.f.nameEnglish.invalid&&r.f.nameEnglish.touched),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](22,32,"role-management.role_status")),d["\u0275\u0275advance"](5),d["\u0275\u0275classProp"]("btn-outline-secondary",!r.roleForm.value.activated)("btn-success",r.roleForm.value.activated),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",!0),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](29,34,"user-management.activated")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-outline-secondary",r.roleForm.value.activated)("btn-danger",!r.roleForm.value.activated),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",!1),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](33,36,"user-management.not_activated")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",r.f.activated.invalid&&r.f.activated.touched),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](39,38,"role-management.authorities")),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngForOf",r.roleAuthorities),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction0"](44,we)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](46,40,"general.btn_cancel")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](49,42,"general.btn_save")," ")}}var Me,Pe,Fe,Te=((Me=function(){function e(t,n,r,a,i,o,l,c){_classCallCheck(this,e),this.formBuilder=t,this.roleService=n,this.i18nService=r,this.router=a,this.activeRoute=i,this.translate=o,this.toastr=l,this.authenticationService=c,this.role=new oe.a,this.roleAuthorities=[],this.selectedAuthorities=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.initRoleForm(),this.loadAuthorities()}},{key:"loadAuthorities",value:function(){var e=this;this.roleService.listAuthorities().subscribe((function(t){e.roleAuthorities=[],t&&t.forEach((function(t){e.addRoleAuthority(t),t.children&&t.children.forEach((function(t){return e.addRoleAuthority(t)}))}));var n=e.activeRoute.snapshot.params.id;n&&e.roleService.find(n).subscribe((function(t){e.role=t,e.updateRoleForm()}))}))}},{key:"addRoleAuthority",value:function(e){var t=new le.a;t.authority=e,this.roleAuthorities.push(t)}},{key:"f",get:function(){return this.roleForm.controls}},{key:"initRoleForm",value:function(){this.roleForm=this.formBuilder.group({nameArabic:["",[u.Validators.required,ce.a.arabicCharacters(!1),u.Validators.maxLength(60),u.Validators.minLength(3)]],nameEnglish:["",[u.Validators.required,ce.a.latinCharacters(!1),u.Validators.maxLength(60),u.Validators.minLength(3)]],activated:[!1,u.Validators.required]})}},{key:"updateRoleForm",value:function(){var e=this;this.roleForm=this.formBuilder.group({id:[this.role.id],nameArabic:[this.role.nameArabic,[u.Validators.required,u.Validators.maxLength(60),u.Validators.minLength(3)]],nameEnglish:[this.role.nameEnglish,[u.Validators.required,u.Validators.maxLength(60),u.Validators.minLength(3)]],activated:[this.role.activated,u.Validators.required]}),this.roleAuthorities.forEach((function(t){e.role.roleAuthorities.filter((function(e){return e.authority.id===t.authority.id})).length>0&&(t.selected=!0)}))}},{key:"goToList",value:function(){this.router.navigate(["/roles/list"])}},{key:"currentLanguage",get:function(){return this.i18nService.language}},{key:"saveOrUpdateRole",value:function(){var e=this;Object.keys(this.roleForm.controls).forEach((function(t){e.roleForm.get(t).markAsTouched({onlySelf:!0})})),this.roleForm.invalid||(this.role=this.roleForm.value,this.role.roleAuthorities=this.roleAuthorities.filter((function(e){return e.selected})),this.role.roleAuthorities.forEach((function(t){var n=e.roleAuthorities.find((function(e){return e.authority.id===t.authority.parentId}));n&&!e.role.roleAuthorities.find((function(e){return e.authority.id==n.authority.id}))&&e.role.roleAuthorities.push(n)})),this.roleAuthorities.filter((function(e){return null===e.authority.parentId})).forEach((function(t){e.role.roleAuthorities.find((function(e){return t.authority.id==e.authority.id}))&&!t.authority.children.filter((function(t){return e.role.roleAuthorities.find((function(e){return t.id==e.authority.id}))})).length&&(e.role.roleAuthorities=e.role.roleAuthorities.filter((function(e){return e.authority.id!==t.authority.id})))})),this.roleService.saveOrUpdate(this.role).subscribe((function(t){t.hasOwnProperty("errors")&&t.errors?(e.toastr.warning(e.translate.instant("general.dialog_form_error_text"),e.translate.instant("general.dialog_edit_title")),Object.keys(e.roleForm.controls).forEach((function(n){if(console.log("looking for validation errors for : "+n),t.errors[n]){var r=e.roleForm.get(n);r.setErrors({invalid:t.errors[n].replace(/\{/,"").replace(/\}/,"")}),r.markAsTouched({onlySelf:!0})}}))):(e.toastr.success(e.translate.instant("general.dialog_edit_success_text"),e.translate.instant("general.dialog_edit_title")),e.goToList())})))}},{key:"toggleAuthority",value:function(e){e.selected=!e.selected}},{key:"canSeeAddUpdateRole",get:function(){return this.authenticationService.hasAuthority(s.a.ADD_ROLE)||this.authenticationService.hasAuthority(s.a.EDIT_ROLE)}}]),e}()).\u0275fac=function(e){return new(e||Me)(d["\u0275\u0275directiveInject"](u.FormBuilder),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](a.f),d["\u0275\u0275directiveInject"](a.a),d["\u0275\u0275directiveInject"](m.e),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](o.b))},Me.\u0275cmp=d["\u0275\u0275defineComponent"]({type:Me,selectors:[["app-add-update-role"]],decls:8,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],["class","text-dcc-primary",4,"ngIf"],["class","content__section",4,"ngIf"],[1,"text-dcc-primary"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],[3,"formGroup","ngSubmit"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],[1,"form-group","col"],[1,"col-form-label"],[1,"text-danger","px-1"],["type","text","formControlName","nameArabic","required","","maxlength","25",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","nameEnglish","required","","maxlength","25",1,"form-control"],["ngbRadioGroup","","name","radioBasic","formControlName","activated",1,"form-control","p-0","border-0","btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn"],["ngbButton","","type","radio",3,"value"],[1,"row","row-cols-12"],[4,"ngFor","ngForOf"],[1,"content__footer__action"],["type","button",1,"btn","btn-outline-secondary","btn-w100","px-5","mr-3",3,"routerLink"],["type","button",1,"btn","btn-outline-dcc-primary","px-5","mr-3",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col","text-dark","font-weight-bold"],[1,"form-control","p-0","border-0","btn-group","btn-group-toggle"],["ngbButtonLabel","","class","btn btn-outline-info",4,"ngIf"],["ngbButtonLabel","",1,"btn","btn-outline-info"],["styleClass","text-white h3","icon","check-circle"],["ngbButton","","type","checkbox",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"h2",2),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275template"](5,se,2,1,"b",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,de,6,6,"div",4),d["\u0275\u0275template"](7,Oe,50,45,"div",4),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](4,4,"role-management.role_form")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",(null==t.role?null:t.role.id)>0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.canSeeAddUpdateRole),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.canSeeAddUpdateRole))},directives:[r.u,u["\u0275angular_packages_forms_forms_y"],u.NgControlStatusGroup,u.FormGroupDirective,u.DefaultValueAccessor,u.NgControlStatus,u.FormControlName,u.RequiredValidator,u.MaxLengthValidator,g.M,g.b,g.L,r.t,a.g,f.a,u.CheckboxControlValueAccessor,g.g,u.NgModel],pipes:[m.d],styles:["[dir=rtl][_ngcontent-%COMP%]   .form-control.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:first-child:not(:last-child){border-radius:0 .5rem .5rem 0}[dir=ltr][_ngcontent-%COMP%]   .form-control.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:first-child:not(:last-child){border-radius:.5rem 0 0 .5rem}.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:not(:last-child):not(:first-child):not(.dropdown-toggle){border-radius:0}"]}),Me),Be=[{path:"roles/create",component:Te,canActivate:[o.a]},{path:"roles/update/:id",component:Te,canActivate:[o.a]},{path:"roles/list",component:$,canActivate:[o.a]},{path:"roles/details/:id",component:ie,canActivate:[o.a]}],Ve=((Pe=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:Pe}),Pe.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Pe)},providers:[],imports:[[a.j.forChild(Be)],a.j]}),Pe),Le=n("i2L+"),je=n("904P"),Re=((Fe=function e(){_classCallCheck(this,e)}).\u0275mod=d["\u0275\u0275defineNgModule"]({type:Fe}),Fe.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Fe)},providers:[],imports:[[r.c,Ve,Le.a,g.w,u.FormsModule,u.ReactiveFormsModule,je.TextMaskModule,m.c]]}),Fe)}}]);