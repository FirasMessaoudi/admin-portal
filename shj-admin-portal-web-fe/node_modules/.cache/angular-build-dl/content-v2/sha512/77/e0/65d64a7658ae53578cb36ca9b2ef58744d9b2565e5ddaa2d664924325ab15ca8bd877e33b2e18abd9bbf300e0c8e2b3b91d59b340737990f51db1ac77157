function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{hLrj:function(e,t,n){"use strict";n.r(t),n.d(t,"UserManagementModule",(function(){return it}));var a=n("ofXK"),r=n("3Pt+"),i=n("1kSV"),l=n("tyNb"),o=n("6LkC"),s=n("LDaS"),d=n("rBgB"),p=(n("e5oA"),n("yqJO")),c=n("mMUb"),m=n("ytaz"),u=n("fXoL"),v=n("FD72"),g=n("sYmb"),f=n("ocNh"),x=n("ADU/");function h(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"button",5),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"general.btn_add")," "))}function S(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementStart"](3,"span",7),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function b(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" (",u["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated"),") "))}function y(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",28),u["\u0275\u0275text"](1),u["\u0275\u0275template"](2,b,3,3,"span",29),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275classProp"]("text-danger",!(null!=n&&n.activated))("text-black-50",null==n?null:n.activated),u["\u0275\u0275property"]("ngValue",n),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",a.currentLanguage.startsWith("en")?n.nameEnglish:n.nameArabic," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!(null!=n&&n.activated))}}function I(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",28),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("ngValue",n),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",a.currentLanguage.startsWith("en")?n.nameEnglish:n.nameArabic," ")}}function _(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tr",30),u["\u0275\u0275elementStart"](1,"td",31),u["\u0275\u0275element"](2,"svg-icon",32),u["\u0275\u0275elementStart"](3,"p",33),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](5,1,"general.table_emtpy_text")))}function E(e,t){1&e&&u["\u0275\u0275element"](0,"svg-icon",49)}function B(e,t){1&e&&u["\u0275\u0275element"](0,"svg-icon",50)}function C(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",51),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated")," "))}function N(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",52),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated")," "))}function k(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",53),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"user-management.activated")," "))}function F(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",54),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"user-management.locked")," "))}var w=function(e){return["/users/update",e]},O=function(){return{edit:!0}};function P(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"a",55),u["\u0275\u0275pipe"](1,"translate"),u["\u0275\u0275element"](2,"svg-icon",56),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275propertyInterpolate"]("ngbTooltip",u["\u0275\u0275pipeBind1"](1,3,"general.tooltip_edit")),u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction1"](5,w,null==n?null:n.id))("queryParams",u["\u0275\u0275pureFunction0"](7,O))}}function V(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",57),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](2).deactivateUser(e.id)})),u["\u0275\u0275pipe"](1,"translate"),u["\u0275\u0275element"](2,"svg-icon",58),u["\u0275\u0275elementEnd"]()}2&e&&u["\u0275\u0275propertyInterpolate"]("ngbTooltip",u["\u0275\u0275pipeBind1"](1,1,"general.tooltip_deactivate"))}function j(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",57),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](2).activateUser(e.id)})),u["\u0275\u0275pipe"](1,"translate"),u["\u0275\u0275element"](2,"svg-icon",59),u["\u0275\u0275elementEnd"]()}2&e&&u["\u0275\u0275propertyInterpolate"]("ngbTooltip",u["\u0275\u0275pipeBind1"](1,1,"general.tooltip_activate"))}function q(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",57),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](2).deleteUser(e.id)})),u["\u0275\u0275pipe"](1,"translate"),u["\u0275\u0275element"](2,"svg-icon",60),u["\u0275\u0275elementEnd"]()}2&e&&u["\u0275\u0275propertyInterpolate"]("ngbTooltip",u["\u0275\u0275pipeBind1"](1,1,"general.tooltip_delete"))}function U(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",57),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](2).resetUserPassword(e.nin)})),u["\u0275\u0275pipe"](1,"translate"),u["\u0275\u0275element"](2,"svg-icon",61),u["\u0275\u0275elementEnd"]()}2&e&&u["\u0275\u0275propertyInterpolate"]("ngbTooltip",u["\u0275\u0275pipeBind1"](1,1,"general.tooltip_reset_password"))}var A=function(e){return["/users/details",e]};function D(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"th",34),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275elementStart"](4,"a",35),u["\u0275\u0275text"](5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td",30),u["\u0275\u0275template"](7,E,1,0,"svg-icon",36),u["\u0275\u0275template"](8,B,1,0,"svg-icon",37),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275text"](10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",38),u["\u0275\u0275text"](12),u["\u0275\u0275pipe"](13,"mobileFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td",38),u["\u0275\u0275elementStart"](15,"span"),u["\u0275\u0275text"](16),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](17,C,3,3,"span",39),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"td",40),u["\u0275\u0275template"](19,N,3,3,"span",41),u["\u0275\u0275template"](20,k,3,3,"span",42),u["\u0275\u0275template"](21,F,3,3,"span",43),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"td",44),u["\u0275\u0275template"](23,P,3,8,"a",45),u["\u0275\u0275template"](24,V,3,3,"a",46),u["\u0275\u0275template"](25,j,3,3,"a",46),u["\u0275\u0275template"](26,q,3,3,"a",46),u["\u0275\u0275template"](27,U,3,3,"a",46),u["\u0275\u0275elementStart"](28,"a",47),u["\u0275\u0275pipe"](29,"translate"),u["\u0275\u0275element"](30,"svg-icon",48),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](n.id),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction1"](28,A,null==n?null:n.id)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.nin),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","F"==n.gender),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","M"==n.gender),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate3"]("",n.firstName," ",n.fatherName," ",n.familyName,""),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](13,24,n.mobileNumber)),u["\u0275\u0275advance"](3),u["\u0275\u0275classMapInterpolate1"]("d-inline badge badge-info py-1 px-3 badge-pill ",null!=n.role&&n.role.activated?"":"border border-warning border-3"," "),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",a.currentLanguage.startsWith("en")?null==n.role?null:n.role.nameEnglish:null==n.role?null:n.role.nameArabic," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!(null!=n.role&&n.role.activated)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",!(null!=n&&n.activated||null!=n&&n.blocked)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==n?null:n.activated)&&!(null!=n&&n.blocked)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n?null:n.blocked),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",a.canEditUser),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.nin!=a.loggedInUsername&&n.activated&&a.canChangeUserStatus),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.nin!=a.loggedInUsername&&!n.activated&&a.canChangeUserStatus),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.nin!=a.loggedInUsername&&a.canDeleteUser),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.nin!=a.loggedInUsername&&a.canResetUserPassword),u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("ngbTooltip",u["\u0275\u0275pipeBind1"](29,26,"general.tooltip_view")),u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction1"](30,A,null==n?null:n.id))}}function G(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"nav",62),u["\u0275\u0275elementStart"](1,"ul",63),u["\u0275\u0275elementStart"](2,"li",64),u["\u0275\u0275elementStart"](3,"a",65),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).loadPage(0)})),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"li",64),u["\u0275\u0275elementStart"](7,"a",65),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2);return e.loadPage((null==e.page?null:e.page.number)-1)})),u["\u0275\u0275text"](8),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"li",66),u["\u0275\u0275elementStart"](11,"a",67),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2);return e.loadPage(e.page.number)})),u["\u0275\u0275text"](12),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"li",64),u["\u0275\u0275elementStart"](14,"a",67),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2);return e.loadPage((null==e.page?null:e.page.number)+1)})),u["\u0275\u0275text"](15),u["\u0275\u0275pipe"](16,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"li",64),u["\u0275\u0275elementStart"](18,"a",67),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2);return e.loadPage((null==e.page?null:e.page.totalPages)-1)})),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("disabled",null==a.page?null:a.page.first),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](5,13,"general.nav_first")),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("disabled",null==a.page?null:a.page.first),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](9,15,"general.nav_previous")),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"]((null==a.page?null:a.page.number)+1+" / "+(null==a.page?null:a.page.totalPages)),u["\u0275\u0275advance"](1),u["\u0275\u0275classProp"]("disabled",null==a.page?null:a.page.last),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](16,17,"general.nav_next")),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("disabled",null==a.page?null:a.page.last),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](20,19,"general.nav_last"))}}function L(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275elementStart"](1,"div",8),u["\u0275\u0275elementStart"](2,"form",9),u["\u0275\u0275elementStart"](3,"div",10),u["\u0275\u0275elementStart"](4,"label",11),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](7,"input",12),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"div",10),u["\u0275\u0275elementStart"](9,"label",11),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"select",13),u["\u0275\u0275listener"]("ngModelChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onRoleChange(e)})),u["\u0275\u0275elementStart"](13,"option",14),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](16,y,3,7,"option",15),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"div",10),u["\u0275\u0275elementStart"](18,"label",11),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"select",16),u["\u0275\u0275elementStart"](22,"option",14),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,I,2,2,"option",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"div",18),u["\u0275\u0275elementStart"](27,"button",19),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().search()})),u["\u0275\u0275text"](28),u["\u0275\u0275pipe"](29,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"button",20),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().cancelSearch()})),u["\u0275\u0275text"](31),u["\u0275\u0275pipe"](32,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"div",21),u["\u0275\u0275elementStart"](34,"table",22),u["\u0275\u0275elementStart"](35,"thead"),u["\u0275\u0275elementStart"](36,"tr"),u["\u0275\u0275elementStart"](37,"th",23),u["\u0275\u0275text"](38,"#"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](39,"th",24),u["\u0275\u0275text"](40),u["\u0275\u0275pipe"](41,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"th",23),u["\u0275\u0275text"](43),u["\u0275\u0275pipe"](44,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](45,"th",24),u["\u0275\u0275text"](46),u["\u0275\u0275pipe"](47,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"th",24),u["\u0275\u0275text"](49),u["\u0275\u0275pipe"](50,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](51,"th",24),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"th",23),u["\u0275\u0275text"](55),u["\u0275\u0275pipe"](56,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](57,"th",23),u["\u0275\u0275text"](58),u["\u0275\u0275pipe"](59,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](60,"tbody"),u["\u0275\u0275template"](61,_,6,3,"tr",25),u["\u0275\u0275template"](62,D,31,32,"tr",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](63,G,21,21,"nav",27),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("formGroup",a.searchForm),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](6,24,"general.nin_or_iqama")),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](11,26,"user-management.role")),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("text-danger",a.f.role.value&&!a.f.role.value.activated),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngValue",null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](15,28,"general.select_option")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",a.roles),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](20,30,"user-management.account_status")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngValue",null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](24,32,"general.select_option")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",a.userStatuses),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](29,34,"general.btn_search")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](32,36,"general.btn_clear")," "),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](41,38,"user-management.nin")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](44,40,"user-management.gender")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](47,42,"user-management.full_name")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](50,44,"general.mobile_number")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](53,46,"user-management.role")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](56,48,"user-management.account_status")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](59,50,"general.actions")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",!(null!=a.page&&a.page.content)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",null==a.page?null:a.page.content),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==a.page?null:a.page.content)}}var T,M=((T=function(){function e(t,n,a,r,i,l,o,s,d){_classCallCheck(this,e),this.userService=t,this.i18nService=n,this.roleService=a,this.formBuilder=r,this.modalService=i,this.translate=l,this.toastr=o,this.confirmDialogService=s,this.authenticationService=d,this.ninPatt=/^[1-2]\d{9}$/}return _createClass(e,[{key:"ngOnInit",value:function(){this.loggedInUsername=this.authenticationService.currentUser.principal,this.canAddUser=this.authenticationService.hasAuthority(m.a.ADD_USER),this.loadPage(0),this.initForm(),this.getRoles(),this.initUserStatuses()}},{key:"ngOnDestroy",value:function(){this.listSubscription&&this.listSubscription.unsubscribe(),this.activateSubscription&&this.activateSubscription.unsubscribe(),this.deactivateSubscription&&this.deactivateSubscription.unsubscribe(),this.deleteSubscription&&this.deleteSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe()}},{key:"f",get:function(){return this.searchForm.controls}},{key:"getRoles",value:function(){var e=this;this.roleService.listAll().subscribe((function(t){e.roles=t}))}},{key:"initForm",value:function(){this.searchForm=this.formBuilder.group({status:[null],role:[null],nin:["",[r.Validators.pattern(this.ninPatt)]]})}},{key:"initUserStatuses",value:function(){this.userStatuses=[new s.a(1,"\u0646\u0634\u0637","\u0650Activated",!0),new s.a(2,"\u063a\u064a\u0631 \u0646\u0634\u0637","Deactivated",!1)]}},{key:"loadPage",value:function(e){var t=this;this.listSubscription=this.userService.list(e).subscribe((function(e){e.subscribe((function(e){t.page=e,null!=t.page&&(t.pageArray=Array.from(t.pageCounter(t.page.totalPages)),t.users=t.page.content,t.canEditUser=t.authenticationService.hasAuthority(m.a.EDIT_USER),t.canChangeUserStatus=t.authenticationService.hasAuthority(m.a.CHANGE_USER_STATUS),t.canDeleteUser=t.authenticationService.hasAuthority(m.a.DELETE_USER),t.canResetUserPassword=t.authenticationService.hasAuthority(m.a.RESET_PASSWORD))}))}))}},{key:"activateUser",value:function(e){var t=this;this.confirmDialogService.confirm(this.translate.instant("user-management.dialog_activate_confirm_text"),this.translate.instant("general.dialog_confirmation_title")).then((function(n){n&&(t.activateSubscription=t.userService.activate(e).subscribe((function(e){t.toastr.success(t.translate.instant("user-management.dialog_activate_success_text"),t.translate.instant("user-management.dialog_activate_title")),t.loadPage(0)}),(function(e){t.toastr.error(t.translate.instant("general.dialog_error_text"),t.translate.instant("user-management.dialog_activate_title"))})))}))}},{key:"deactivateUser",value:function(e){var t=this;this.confirmDialogService.confirm(this.translate.instant("user-management.dialog_deactivate_confirm_text"),this.translate.instant("general.dialog_confirmation_title")).then((function(n){n&&(t.deactivateSubscription=t.userService.deactivate(e).subscribe((function(e){t.toastr.success(t.translate.instant("user-management.dialog_deactivate_success_text"),t.translate.instant("user-management.dialog_deactivate_title")),t.loadPage(0)}),(function(e){t.toastr.error(t.translate.instant("general.dialog_error_text"),t.translate.instant("user-management.dialog_deactivate_title"))})))}))}},{key:"deleteUser",value:function(e){var t=this;this.confirmDialogService.confirm(this.translate.instant("user-management.dialog_delete_confirm_text"),this.translate.instant("general.dialog_confirmation_title")).then((function(n){n&&(t.deleteSubscription=t.userService.delete(e).subscribe((function(e){t.toastr.success(t.translate.instant("user-management.dialog_delete_success_text"),t.translate.instant("user-management.dialog_delete_title")),t.loadPage(0)}),(function(e){t.toastr.error(t.translate.instant("general.dialog_error_text"),t.translate.instant("user-management.dialog_delete_title"))})))}))}},{key:"resetUserPassword",value:function(e){var t=this;this.confirmDialogService.confirm(this.translate.instant("user-management.dialog_reset_user_pass_confirm_text"),this.translate.instant("general.dialog_confirmation_title")).then((function(n){n&&(t.deleteSubscription=t.userService.resetUserPassword(e).subscribe((function(e){t.toastr.success(t.translate.instant("user-management.dialog_reset_user_pass_success_text"),t.translate.instant("user-management.dialog_reset_user_pass_title")),t.loadPage(0)}),(function(e){t.toastr.error(t.translate.instant("general.dialog_error_text"),t.translate.instant("user-management.dialog_reset_user_pass_title"))})))}))}},{key:"onRoleChange",value:function(e){null!=this.searchForm.get("role").value&&this.searchForm.get("role").value&&this.searchForm.get("role").value.id&&console.log(this.searchForm.value)}},{key:"searchButtonEnabled",value:function(){var e=this;return Object.keys(this.searchForm.controls).forEach((function(t){if(e.searchForm.get(t).valid)return!0})),!1}},{key:"pageCounter",value:function(e){return new Array(e)}},{key:"currentLanguage",get:function(){return this.i18nService.language}},{key:"getUserFullName",value:function(e){return"".concat(null!=e.firstName?e.firstName:""," ").concat(null!=e.fatherName?e.fatherName:""," ").concat(null!=e.grandFatherName?e.grandFatherName:""," ").concat(null!=e.familyName?e.familyName:"")}},{key:"search",value:function(){var e=this;this.searchSubscription=this.userService.search(0,this.searchForm.value.role,this.searchForm.value.nin,this.searchForm.value.status).subscribe((function(t){e.users=[],e.pageArray=[],e.page=t,console.log(t),null!=e.page&&e.page.totalElements?(e.pageArray=Array.from(e.pageCounter(e.page.totalPages)),e.users=e.page.content):(e.page=null,e.toastr.info(e.translate.instant("general.table_emtpy_text"),e.translate.instant("general.search")))}))}},{key:"cancelSearch",value:function(){this.loadPage(0),this.initForm()}},{key:"canSeeUsersList",get:function(){return this.authenticationService.hasAuthority(m.a.USER_MANAGEMENT)}}]),e}()).\u0275fac=function(e){return new(e||T)(u["\u0275\u0275directiveInject"](o.f),u["\u0275\u0275directiveInject"](v.b),u["\u0275\u0275directiveInject"](d.a),u["\u0275\u0275directiveInject"](r.FormBuilder),u["\u0275\u0275directiveInject"](i.u),u["\u0275\u0275directiveInject"](g.e),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](c.b),u["\u0275\u0275directiveInject"](o.b))},T.\u0275cmp=u["\u0275\u0275defineComponent"]({type:T,selectors:[["app-user-list"]],decls:8,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],["routerLink","/users/create","class","btn btn-outline-dcc-primary px-4",4,"ngIf"],["class","content__section",4,"ngIf"],["routerLink","/users/create",1,"btn","btn-outline-dcc-primary","px-4"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],[1,"searchBox"],["enctype","multipart/form-data",1,"row","row-cols-1","row-cols-md-2","row-cols-lg-4",3,"formGroup"],[1,"form-group","col"],[1,"col-form-label"],["type","text","formControlName","nin",1,"form-control"],["formControlName","role",1,"custom-select",3,"ngModelChange"],["disabled","","selected","",1,"hidden",3,"ngValue"],[3,"ngValue","text-danger","text-black-50",4,"ngFor","ngForOf"],["formControlName","status",1,"custom-select"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col","align-self-end"],["type","submit",1,"btn","btn-outline-dcc-primary","px-5","mr-3",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"table-responsive","my-4"],[1,"table","table-striped","table-hover"],["scope","col",1,"text-center"],["scope","col"],["class","text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["aria-label","Page navigation example",4,"ngIf"],[3,"ngValue"],[4,"ngIf"],[1,"text-center"],["colspan","10"],["styleClass","display-1 text-light-gray","icon","empty-set"],[1,"text-light-gray","mb-3"],["scope","row",1,"text-center"],[1,"text-dcc-primary","font-weight-bold",3,"routerLink"],["styleClass","female h3","icon","female",4,"ngIf"],["styleClass","male h3","icon","male",4,"ngIf"],[1,"ltr"],["class","d-inline badge badge-warning px-1 py-0 align-top status-pill",4,"ngIf"],[2,"text-align","center"],["class","badge badge-warning py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-success py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-danger py-2 px-4 badge-pill",4,"ngIf"],["width","20%",1,"text-center",2,"text-align","center"],["class","action mx-2",3,"routerLink","queryParams","ngbTooltip",4,"ngIf"],["class","action mx-2","href","javascript:void(0)",3,"ngbTooltip","click",4,"ngIf"],[1,"action","mx-2",3,"routerLink","ngbTooltip"],["styleClass","text-dcc-primary h3","icon","eye"],["styleClass","female h3","icon","female"],["styleClass","male h3","icon","male"],[1,"d-inline","badge","badge-warning","px-1","py-0","align-top","status-pill"],[1,"badge","badge-warning","py-2","px-4","badge-pill"],[1,"badge","badge-success","py-2","px-4","badge-pill"],[1,"badge","badge-danger","py-2","px-4","badge-pill"],[1,"action","mx-2",3,"routerLink","queryParams","ngbTooltip"],["styleClass","text-info h3","icon","edit"],["href","javascript:void(0)",1,"action","mx-2",3,"ngbTooltip","click"],["styleClass","text-warning h3","icon","user-slash"],["styleClass","text-success h3","icon","user-check"],["styleClass","text-danger h3","icon","user-times"],["styleClass","text-warning h3","icon","user-lock"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["tabindex","-1",1,"page-link",3,"click"],[1,"page-item","active"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"h2",2),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,h,3,3,"button",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,S,6,6,"div",4),u["\u0275\u0275template"](7,L,64,52,"div",4),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,4,"user-management.users_list")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.canAddUser),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!t.canSeeUsersList),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.canSeeUsersList))},directives:[a.u,l.g,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,r.DefaultValueAccessor,r.NgControlStatus,r.FormControlName,r.SelectControlValueAccessor,r.NgSelectOption,r["\u0275angular_packages_forms_forms_x"],a.t,f.a,l.i,i.Q],pipes:[g.d,x.e],styles:[".female{color:#bf0f60}.male{color:#00619a}.status-pill{position:relative;margin:0 -1rem;font-size:.62rem}.border-3{border-width:3px!important}"],encapsulation:2}),T);function R(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",8),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementStart"](3,"span",9),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function H(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"-"),u["\u0275\u0275elementEnd"]())}function $(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",24),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated")," "))}function z(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",25),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"user-management.activated")," "))}function Q(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",26),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"user-management.locked")," "))}var W=function(){return["/users/list"]};function J(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",8),u["\u0275\u0275elementStart"](1,"form",10),u["\u0275\u0275elementStart"](2,"div",11),u["\u0275\u0275elementStart"](3,"div",12),u["\u0275\u0275elementStart"](4,"label",13),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"span",14),u["\u0275\u0275text"](8),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"div",12),u["\u0275\u0275elementStart"](10,"label",13),u["\u0275\u0275text"](11),u["\u0275\u0275pipe"](12,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"span",15),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"mobileFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"div",12),u["\u0275\u0275elementStart"](17,"label",13),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"span",14),u["\u0275\u0275text"](21),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"div",12),u["\u0275\u0275elementStart"](23,"label",13),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"span",14),u["\u0275\u0275text"](27),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"div",12),u["\u0275\u0275elementStart"](29,"label",13),u["\u0275\u0275text"](30),u["\u0275\u0275pipe"](31,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](32,"span",14),u["\u0275\u0275text"](33),u["\u0275\u0275pipe"](34,"dateFormat"),u["\u0275\u0275template"](35,H,2,0,"span",16),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"hijriFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"div",12),u["\u0275\u0275elementStart"](39,"label",13),u["\u0275\u0275text"](40),u["\u0275\u0275pipe"](41,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"span",17),u["\u0275\u0275text"](43),u["\u0275\u0275pipe"](44,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](45,"span",17),u["\u0275\u0275text"](46),u["\u0275\u0275pipe"](47,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"div",12),u["\u0275\u0275elementStart"](49,"label",13),u["\u0275\u0275text"](50),u["\u0275\u0275pipe"](51,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"div",14),u["\u0275\u0275template"](53,$,3,3,"span",18),u["\u0275\u0275template"](54,z,3,3,"span",19),u["\u0275\u0275template"](55,Q,3,3,"span",20),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](56,"div",12),u["\u0275\u0275elementStart"](57,"label",13),u["\u0275\u0275text"](58),u["\u0275\u0275pipe"](59,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerStart"](60),u["\u0275\u0275elementStart"](61,"span",21),u["\u0275\u0275text"](62),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](63,"div",12),u["\u0275\u0275elementStart"](64,"label",13),u["\u0275\u0275text"](65),u["\u0275\u0275pipe"](66,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](67,"span",14),u["\u0275\u0275text"](68),u["\u0275\u0275pipe"](69,"dateFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](70,"div",12),u["\u0275\u0275elementStart"](71,"label",13),u["\u0275\u0275text"](72),u["\u0275\u0275pipe"](73,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](74,"span",14),u["\u0275\u0275text"](75),u["\u0275\u0275pipe"](76,"dateFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](77,"div",22),u["\u0275\u0275elementStart"](78,"button",23),u["\u0275\u0275text"](79),u["\u0275\u0275pipe"](80,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](6,29,"user-management.nin")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](null==n.user?null:n.user.nin),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](12,31,"general.mobile_number")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](15,33,null==n.user?null:n.user.mobileNumber)," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](19,35,"general.email")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](null==n.user?null:n.user.email),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](25,37,"user-management.full_name")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"]((null==n.user?null:n.user.firstName)+" "+(null==n.user?null:n.user.familyName)),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](31,39,"general.date_of_birth")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](34,41,null==n.user?null:n.user.dateOfBirthGregorian)," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==n.user?null:n.user.dateOfBirthGregorian),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](37,43,null==n.user?null:n.user.dateOfBirthHijri)," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](41,45,"user-management.gender")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden","M"==(null==n.user?null:n.user.gender)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](44,47,"user-management.female")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden","F"==(null==n.user?null:n.user.gender)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](47,49,"user-management.male")),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](51,51,"user-management.account_status")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",!(null!=n.user&&n.user.activated||null!=n.user&&n.user.blocked)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==n.user?null:n.user.activated)&&!(null!=n.user&&n.user.blocked)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.user?null:n.user.blocked),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](59,53,"user-management.role")),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](n.currentLanguage.startsWith("en")?null==n.user?null:n.user.role.nameEnglish:null==n.user?null:n.user.role.nameArabic),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](66,55,"user-management.creation_date")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](69,57,null==n.user?null:n.user.creationDate)),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](73,59,"user-management.last_login")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](76,61,null==n.user?null:n.user.lastLoginDate)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction0"](65,W)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](80,63,"general.btn_back")," ")}}var X,Y=((X=function(){function e(t,n,a,r,i,l,o,s,d,p,c){_classCallCheck(this,e),this.activeRoute=t,this.router=n,this.toastr=a,this.translate=r,this.formBuilder=i,this.i18nService=l,this.userService=o,this.roleService=s,this.authentication=d,this.datePipe=p,this.authenticationService=c,this.url="assets/images/default-avatar.png"}return _createClass(e,[{key:"currentLanguage",get:function(){return this.i18nService.language}},{key:"ngOnInit",value:function(){var e=this;this.userId=this.activeRoute.snapshot.params.id,this.userId?this.userService.find(this.userId).subscribe((function(t){t&&t.id?e.user=t:(e.toastr.error(e.translate.instant("general.route_item_not_found",{itemId:e.userId}),e.translate.instant("general.dialog_error_title")),e.goToList())})):(this.toastr.error(this.translate.instant("general.route_id_param_not_found"),this.translate.instant("general.dialog_error_title")),this.goToList())}},{key:"goToList",value:function(){this.router.navigate(["/users/list"])}},{key:"formatDate",value:function(e){return e.year+"-"+("00"+e.month).slice(-2)+"-"+("00"+e.day).slice(-2)}},{key:"toCalender",value:function(e){var t=new Date(Date.parse(this.datePipe.transform(e)));return console.log(t),{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}}},{key:"canSeeUserDetails",get:function(){return this.authenticationService.hasAuthority(m.a.USER_MANAGEMENT)}}]),e}()).\u0275fac=function(e){return new(e||X)(u["\u0275\u0275directiveInject"](l.a),u["\u0275\u0275directiveInject"](l.f),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](g.e),u["\u0275\u0275directiveInject"](r.FormBuilder),u["\u0275\u0275directiveInject"](v.b),u["\u0275\u0275directiveInject"](o.f),u["\u0275\u0275directiveInject"](d.a),u["\u0275\u0275directiveInject"](o.b),u["\u0275\u0275directiveInject"](a.f),u["\u0275\u0275directiveInject"](o.b))},X.\u0275cmp=u["\u0275\u0275defineComponent"]({type:X,selectors:[["app-user-details"]],features:[u["\u0275\u0275ProvidersFeature"]([a.f])],decls:12,vars:7,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],[1,"text-dcc-primary"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-center","px-4"],[1,"mr-4","rounded-circle","mx-auto","d-block",3,"src"],["class","content__section",4,"ngIf"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],["enctype","multipart/form-data"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],[1,"form-group","col"],[1,"col-form-label"],[1,"form-control-plaintext"],[1,"form-control-plaintext","ltr"],[4,"ngIf"],[1,"form-control-plaintext",3,"hidden"],["class","badge badge-warning py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-success py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-danger py-2 px-4 badge-pill",4,"ngIf"],[1,"form-control-plaintext","font-weight-bold"],[1,"content__footer__action"],["type","button",1,"btn","btn-outline-secondary","btn-w100","px-5","mr-3",3,"routerLink"],[1,"badge","badge-warning","py-2","px-4","badge-pill"],[1,"badge","badge-success","py-2","px-4","badge-pill"],[1,"badge","badge-danger","py-2","px-4","badge-pill"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"h2",2),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementStart"](5,"b",3),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",4),u["\u0275\u0275elementStart"](8,"div",5),u["\u0275\u0275element"](9,"img",6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](10,R,6,6,"div",7),u["\u0275\u0275template"](11,J,81,66,"div",7),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](4,5,"user-management.user_details")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"]((null==t.user?null:t.user.firstName)+" "+(null==t.user?null:t.user.familyName)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("src",null!=t.user&&t.user.avatar?"data:image/jpeg;base64,"+(null==t.user?null:t.user.avatar):t.url,u["\u0275\u0275sanitizeUrl"]),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!t.canSeeUserDetails),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.canSeeUserDetails))},directives:[a.u,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.NgForm,l.g],pipes:[g.d,x.e,x.c,x.b],styles:[".rounded-circle[_ngcontent-%COMP%]{max-width:75px;max-height:75px}#avatarFile[_ngcontent-%COMP%]{display:none}.title__Page[_ngcontent-%COMP%]{align-items:center!important}"]}),X),Z=n("jzRc"),K=n("hmT7"),ee=n("06Dj"),te=n("l97S"),ne=n("ousT"),ae=["datePicker"];function re(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"b",5),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("#",null==n.user?null:n.user.id,"")}}function ie(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementStart"](3,"span",7),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function le(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function oe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.firstName.errors.invalid))}}function se(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.firstName.errors["characters-only"]))}}function de(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,le,3,3,"div",42),u["\u0275\u0275template"](2,oe,3,3,"div",42),u["\u0275\u0275template"](3,se,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.firstName.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.firstName.errors.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.firstName.errors["characters-only"])}}function pe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.fatherName.errors.invalid))}}function ce(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.fatherName.errors["characters-only"]))}}function me(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,pe,3,3,"div",42),u["\u0275\u0275template"](2,ce,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.fatherName.errors.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.fatherName.errors["characters-only"])}}function ue(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.grandFatherName.errors.invalid))}}function ve(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.grandFatherName.errors["characters-only"]))}}function ge(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,ue,3,3,"div",42),u["\u0275\u0275template"](2,ve,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.grandFatherName.errors.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.grandFatherName.errors["characters-only"])}}function fe(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function xe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.familyName.errors.invalid))}}function he(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.familyName.errors["characters-only"]))}}function Se(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,fe,3,3,"div",42),u["\u0275\u0275template"](2,xe,3,3,"div",42),u["\u0275\u0275template"](3,he,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.familyName.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.familyName.errors.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.familyName.errors["characters-only"])}}function be(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function ye(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.nin.errors.invalid))}}function Ie(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.nin.errors["invalid-nin-or-iqama"]))}}function _e(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,be,3,3,"div",42),u["\u0275\u0275template"](2,ye,3,3,"div",42),u["\u0275\u0275template"](3,Ie,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.nin.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.nin.errors.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.nin.errors["invalid-nin-or-iqama"])}}function Ee(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",47),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate2"](" ",u["\u0275\u0275pipeBind1"](2,2,"general.cal_eq")," ",n.dateString," ")}}function Be(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function Ce(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",50),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.f.dateOfBirthGregorian.errors.invalid)}}function Ne(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",48),u["\u0275\u0275template"](1,Be,3,3,"div",42),u["\u0275\u0275template"](2,Ce,2,1,"div",49),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.dateOfBirthGregorian.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.dateOfBirthGregorian.errors.invalid)}}function ke(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function Fe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.gender.errors.invalid))}}function we(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,ke,3,3,"div",42),u["\u0275\u0275template"](2,Fe,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.gender.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.gender.errors.invalid)}}function Oe(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function Pe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.activated.errors.invalid))}}function Ve(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,Oe,3,3,"div",42),u["\u0275\u0275template"](2,Pe,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.activated.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.activated.errors.invalid)}}function je(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function qe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",50),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.f.mobileNumber.errors.invalid)}}function Ue(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,n.f.mobileNumber.errors["invalid-mobile-number"]))}}function Ae(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,je,3,3,"div",42),u["\u0275\u0275template"](2,qe,2,1,"div",49),u["\u0275\u0275template"](3,Ue,3,3,"div",42),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.mobileNumber.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.mobileNumber.errors.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.mobileNumber.errors["invalid-mobile-number"])}}function De(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function Ge(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",50),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.f.email.errors.invalid)}}function Le(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,De,3,3,"div",42),u["\u0275\u0275template"](2,Ge,2,1,"div",49),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.email.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.email.errors.invalid)}}function Te(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" (",u["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated"),") "))}function Me(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",51),u["\u0275\u0275text"](1),u["\u0275\u0275template"](2,Te,3,3,"span",42),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=u["\u0275\u0275nextContext"](2);u["\u0275\u0275classProp"]("text-danger",!(null!=n&&n.activated))("text-black-50",null==n?null:n.activated),u["\u0275\u0275property"]("ngValue",n),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",a.currentLanguage.startsWith("en")?n.nameEnglish:n.nameArabic," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!(null!=n&&n.activated))}}function Re(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function He(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",50),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.f.role.errors.invalid)}}function $e(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",46),u["\u0275\u0275template"](1,Re,3,3,"div",42),u["\u0275\u0275template"](2,He,2,1,"div",49),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.role.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.f.role.errors.invalid)}}function ze(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"label",52),u["\u0275\u0275elementStart"](1,"input",53),u["\u0275\u0275listener"]("change",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).loadAvatar(e)})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"a"),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"user-management.change_avatar")))}function Qe(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"small"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"user-management.avatar-no-edit-text")))}var We=function(e){return{"background-image":e}},Je=function(){return["/users/list"]};function Xe(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275elementStart"](1,"form",8),u["\u0275\u0275listener"]("ngSubmit",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().saveOrUpdate()})),u["\u0275\u0275elementStart"](2,"div",9),u["\u0275\u0275elementStart"](3,"div",10),u["\u0275\u0275elementStart"](4,"label",11),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementStart"](7,"span",12),u["\u0275\u0275text"](8,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](9,"input",13),u["\u0275\u0275template"](10,de,4,3,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",10),u["\u0275\u0275elementStart"](12,"label",11),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](15,"input",15),u["\u0275\u0275template"](16,me,3,2,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"div",10),u["\u0275\u0275elementStart"](18,"label",11),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](21,"input",16),u["\u0275\u0275template"](22,ge,3,2,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"div",10),u["\u0275\u0275elementStart"](24,"label",11),u["\u0275\u0275text"](25),u["\u0275\u0275pipe"](26,"translate"),u["\u0275\u0275elementStart"](27,"span",12),u["\u0275\u0275text"](28,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](29,"input",17),u["\u0275\u0275template"](30,Se,4,3,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"div",18),u["\u0275\u0275elementStart"](32,"div",19),u["\u0275\u0275elementStart"](33,"div",20),u["\u0275\u0275elementStart"](34,"div",10),u["\u0275\u0275elementStart"](35,"label",11),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"translate"),u["\u0275\u0275elementStart"](38,"span",12),u["\u0275\u0275text"](39,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](40,"input",21),u["\u0275\u0275template"](41,_e,4,3,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"div",10),u["\u0275\u0275elementStart"](43,"label",11),u["\u0275\u0275text"](44),u["\u0275\u0275pipe"](45,"translate"),u["\u0275\u0275elementStart"](46,"span",12),u["\u0275\u0275text"](47,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"hijri-gregorian-datepicker",22,23),u["\u0275\u0275listener"]("selectedDateChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().selectedDateOfBirth=e}))("selectedDateChange",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onDateOfBirthChange(e)})),u["\u0275\u0275pipe"](50,"translate"),u["\u0275\u0275pipe"](51,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](52,Ee,3,4,"div",24),u["\u0275\u0275template"](53,Ne,3,2,"div",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"div",26),u["\u0275\u0275elementStart"](55,"div",10),u["\u0275\u0275elementStart"](56,"label",11),u["\u0275\u0275text"](57),u["\u0275\u0275pipe"](58,"translate"),u["\u0275\u0275elementStart"](59,"span",12),u["\u0275\u0275text"](60,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](61,"div",27),u["\u0275\u0275elementStart"](62,"label",28),u["\u0275\u0275element"](63,"input",29),u["\u0275\u0275text"](64),u["\u0275\u0275pipe"](65,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](66,"label",28),u["\u0275\u0275element"](67,"input",29),u["\u0275\u0275text"](68),u["\u0275\u0275pipe"](69,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](70,we,3,2,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](71,"div",10),u["\u0275\u0275elementStart"](72,"label",11),u["\u0275\u0275text"](73),u["\u0275\u0275pipe"](74,"translate"),u["\u0275\u0275elementStart"](75,"span",12),u["\u0275\u0275text"](76,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](77,"div",30),u["\u0275\u0275elementStart"](78,"label",28),u["\u0275\u0275element"](79,"input",31),u["\u0275\u0275text"](80),u["\u0275\u0275pipe"](81,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](82,"label",28),u["\u0275\u0275element"](83,"input",31),u["\u0275\u0275text"](84),u["\u0275\u0275pipe"](85,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](86,Ve,3,2,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](87,"div",10),u["\u0275\u0275elementStart"](88,"label",11),u["\u0275\u0275text"](89),u["\u0275\u0275pipe"](90,"translate"),u["\u0275\u0275elementStart"](91,"span",12),u["\u0275\u0275text"](92,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](93,"input",32),u["\u0275\u0275template"](94,Ae,4,3,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](95,"div",20),u["\u0275\u0275elementStart"](96,"div",10),u["\u0275\u0275elementStart"](97,"label",11),u["\u0275\u0275text"](98),u["\u0275\u0275pipe"](99,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](100,"input",33),u["\u0275\u0275template"](101,Le,3,2,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](102,"div",10),u["\u0275\u0275elementStart"](103,"label",11),u["\u0275\u0275text"](104),u["\u0275\u0275pipe"](105,"translate"),u["\u0275\u0275elementStart"](106,"span",12),u["\u0275\u0275text"](107,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](108,"select",34),u["\u0275\u0275elementStart"](109,"option",35),u["\u0275\u0275text"](110),u["\u0275\u0275pipe"](111,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](112,Me,3,7,"option",36),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](113,$e,3,2,"div",14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](114,"div",37),u["\u0275\u0275elementStart"](115,"div",38),u["\u0275\u0275elementStart"](116,"div",39),u["\u0275\u0275element"](117,"img",40),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](118,ze,5,3,"label",41),u["\u0275\u0275template"](119,Qe,3,3,"small",42),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](120,"div",43),u["\u0275\u0275elementStart"](121,"button",44),u["\u0275\u0275text"](122),u["\u0275\u0275pipe"](123,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](124,"button",45),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().saveOrUpdate()})),u["\u0275\u0275text"](125),u["\u0275\u0275pipe"](126,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var a=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("formGroup",a.userForm),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](6,90,"user-management.first_name")),u["\u0275\u0275advance"](4),u["\u0275\u0275classProp"]("is-invalid",a.f.firstName.invalid&&a.f.firstName.touched),u["\u0275\u0275property"]("value",null==a.user?null:a.user.firstName),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.firstName.invalid&&a.f.firstName.touched),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](14,92,"user-management.father_name")),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("is-invalid",a.f.fatherName.invalid&&a.f.fatherName.touched),u["\u0275\u0275property"]("value",null==a.user?null:a.user.fatherName),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.fatherName.invalid&&a.f.fatherName.touched),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](20,94,"user-management.grand_father_name")),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("is-invalid",a.f.grandFatherName.invalid&&a.f.grandFatherName.touched),u["\u0275\u0275property"]("value",null==a.user?null:a.user.grandFatherName),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.grandFatherName.invalid&&a.f.grandFatherName.touched),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](26,96,"user-management.last_name")),u["\u0275\u0275advance"](4),u["\u0275\u0275classProp"]("is-invalid",a.f.familyName.invalid&&a.f.familyName.touched),u["\u0275\u0275property"]("value",null==a.user?null:a.user.familyName),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.familyName.invalid&&a.f.familyName.touched),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](37,98,"user-management.nin")),u["\u0275\u0275advance"](4),u["\u0275\u0275classProp"]("is-invalid",a.f.nin.invalid&&a.f.nin.touched),u["\u0275\u0275property"]("value",null==a.user?null:a.user.nin),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.nin.invalid&&a.f.nin.touched),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](45,100,"general.date_of_birth")),u["\u0275\u0275advance"](4),u["\u0275\u0275classMapInterpolate1"]("datepicker ",a.f.dateOfBirthGregorian.errors&&a.f.dateOfBirthGregorian.touched?"is-invalid":"",""),u["\u0275\u0275property"]("showLabel",!1)("selectedDate",a.selectedDateOfBirth)("isRequired",!0)("maxGreg",a.maxDateOfBirthGregorian)("maxHijri",a.maxDateOfBirthHijri)("GregLabel",u["\u0275\u0275pipeBind1"](50,102,"general.cal_greg"))("hijriLabel",u["\u0275\u0275pipeBind1"](51,104,"general.cal_hijri"))("selectedDateType",a.selectedDateType)("disabled",!1)("readonly",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",a.dateString),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.dateOfBirthGregorian.errors&&a.f.dateOfBirthGregorian.touched),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](58,106,"user-management.gender")),u["\u0275\u0275advance"](5),u["\u0275\u0275classProp"]("btn-primary","M"===a.userForm.value.gender),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("value","M"),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](65,108,"user-management.male")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("btn-dcc-primary","F"===a.userForm.value.gender),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("value","F"),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](69,110,"user-management.female")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",a.f.gender.invalid&&a.f.gender.touched),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](74,112,"user-management.account_status")),u["\u0275\u0275advance"](5),u["\u0275\u0275classProp"]("btn-success",a.userForm.value.activated),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("value",!0),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](81,114,"user-management.activated")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("btn-danger",!a.userForm.value.activated),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("value",!1),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](85,116,"user-management.not_activated")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",a.f.activated.invalid&&a.f.activated.touched),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](90,118,"general.mobile_number")),u["\u0275\u0275advance"](4),u["\u0275\u0275classProp"]("is-invalid",a.f.mobileNumber.errors&&a.f.mobileNumber.touched),u["\u0275\u0275property"]("value","0"+(null==a.user?null:a.user.mobileNumber)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.mobileNumber.errors&&a.f.mobileNumber.touched),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](99,120,"general.email")),u["\u0275\u0275advance"](2),u["\u0275\u0275classProp"]("is-invalid",a.f.email.errors&&a.f.email.touched),u["\u0275\u0275property"]("value",null==a.user?null:a.user.email),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.email.errors&&a.f.email.touched),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](105,122,"user-management.role")),u["\u0275\u0275advance"](4),u["\u0275\u0275classMapInterpolate1"]("custom-select ",a.f.role.errors&&a.f.role.touched?"is-invalid":"",""),u["\u0275\u0275classProp"]("text-danger",a.f.role.value&&!a.f.role.value.activated),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngValue",null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](111,124,"general.select_option")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",a.roles),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",a.f.role.errors&&a.f.role.touched),u["\u0275\u0275advance"](4),u["\u0275\u0275classProp"]("o-25",!(null!=a.user&&a.user.id)),u["\u0275\u0275property"]("ngStyle",u["\u0275\u0275pureFunction1"](130,We,"url('"+(a.user.avatar?"data:image/jpeg;base64,"+a.user.avatar:a.url)+"')")),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==a.user?null:a.user.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!(null!=a.user&&a.user.id)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction0"](132,Je)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](123,126,"general.btn_cancel")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](126,128,"general.btn_save")," ")}}var Ye,Ze,Ke,et=((Ye=function(){function e(t,n,a,r,i,l,o,s,d,p){_classCallCheck(this,e),this.formBuilder=t,this.userService=n,this.roleService=a,this.i18nService=r,this.router=i,this.activeRoute=l,this.authenticationService=o,this.translate=s,this.toastr=d,this.dateFormatterService=p,this.url="assets/images/default-avatar.svg",this.user=new Z.b}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.roleService.listAll().subscribe((function(t){e.roles=t}));var t=this.dateFormatterService.todayGregorian(),n=this.dateFormatterService.todayHijri();this.maxDateOfBirthGregorian={year:t.year-o.c,month:t.month,day:t.day},this.maxDateOfBirthHijri={year:n.year-o.c,month:n.month,day:n.day},this.selectedDateType=ee.a.Gregorian,this.initUserForm();var a=this.activeRoute.snapshot.params.id;a&&this.userService.find(a).subscribe((function(t){e.user=t,e.user.dateOfBirthGregorian&&(e.selectedDateOfBirth=e.dateFormatterService.fromDate(e.user.dateOfBirthGregorian),e.dateString=e.dateFormatterService.toString(e.dateFormatterService.toHijri(e.selectedDateOfBirth))),e.updateUserForm()}))}},{key:"f",get:function(){return this.userForm.controls}},{key:"initUserForm",value:function(){this.userForm=this.formBuilder.group({id:[-1,r.Validators.required],mobileNumber:["",[ne.a.mobileNumber(),r.Validators.required]],nin:["",[ne.a.ninOrIqama(ne.b.NIN_OR_IQAMA),r.Validators.required]],gender:["M",r.Validators.required],dateOfBirthGregorian:["",r.Validators.required],dateOfBirthHijri:["",r.Validators.required],email:["",r.Validators.required],familyName:["",[ne.a.charactersOnly(),r.Validators.required]],firstName:["",[ne.a.charactersOnly(),r.Validators.required]],grandFatherName:["",ne.a.charactersOnly()],fatherName:["",ne.a.charactersOnly()],activated:[!1,r.Validators.required],role:[null,r.Validators.required]})}},{key:"updateUserForm",value:function(){this.userForm=this.formBuilder.group({id:[this.user.id,r.Validators.required],mobileNumber:[this.user.mobileNumber,[ne.a.mobileNumber(),r.Validators.required]],nin:[this.user.nin,[ne.a.ninOrIqama(ne.b.NIN_OR_IQAMA),r.Validators.required]],gender:[this.user.gender?this.user.gender:"M",r.Validators.required],dateOfBirthGregorian:[this.user.dateOfBirthGregorian,r.Validators.required],dateOfBirthHijri:[this.user.dateOfBirthHijri,r.Validators.required],email:[this.user.email,r.Validators.required],familyName:[this.user.familyName,[ne.a.charactersOnly(),r.Validators.required]],firstName:[this.user.firstName,[ne.a.charactersOnly(),r.Validators.required]],grandFatherName:[this.user.grandFatherName,ne.a.charactersOnly()],fatherName:[this.user.fatherName,ne.a.charactersOnly()],activated:[this.user.activated,r.Validators.required],role:[this.user.role,r.Validators.required]})}},{key:"currentLanguage",get:function(){return this.i18nService.language}},{key:"getUserFullName",value:function(){return"".concat(null!=this.user.firstName?this.user.firstName:""," ").concat(null!=this.user.fatherName?this.user.fatherName:""," ").concat(null!=this.user.grandFatherName?this.user.grandFatherName:""," ").concat(null!=this.user.familyName?this.user.familyName:"")}},{key:"loadAvatar",value:function(e){var t=this;if(e.target.files&&e.target.files[0]){var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(){t.url=n.result,t.file=e.target.files[0],t.userService.uploadAvatar(t.file,t.user.id).subscribe((function(e){e.hasOwnProperty("errors")&&e.errors?t.toastr.warning(t.translate.instant("general.dialog_file_upload_error_text"),t.translate.instant("general.dialog_error_title")):(t.user.avatar=e.text,t.toastr.success(t.translate.instant("general.dialog_file_upload_success_text"),t.translate.instant("general.dialog_edit_title")))}))}}}},{key:"saveOrUpdate",value:function(){var e=this;Object.keys(this.userForm.controls).forEach((function(t){e.userForm.get(t).markAsTouched({onlySelf:!0})})),this.userForm.invalid||this.userService.saveOrUpdate(this.userForm.value).subscribe((function(t){t.hasOwnProperty("errors")&&t.errors?(e.toastr.warning(e.translate.instant("general.dialog_form_error_text"),e.translate.instant("general.dialog_edit_title")),Object.keys(e.userForm.controls).forEach((function(n){if(console.log("looking for validation errors for : "+n),t.errors[n]){var a=e.userForm.get(n);a.setErrors({invalid:t.errors[n].replace(/\{/,"").replace(/\}/,"")}),a.markAsTouched({onlySelf:!0})}}))):(e.user=t,e.toastr.success(e.translate.instant("general.dialog_edit_success_text"),e.translate.instant("general.dialog_edit_title")),e.goToList())}))}},{key:"goToList",value:function(){this.router.navigate(["/users/list"])}},{key:"onDateOfBirthChange",value:function(e){if(e){var t=this.dateOfBirthPicker.selectedDateType==ee.a.Gregorian?this.dateFormatterService.toHijri(e):this.dateFormatterService.toGregorian(e),n=this.dateOfBirthPicker.selectedDateType==ee.a.Gregorian?e:this.dateFormatterService.toGregorian(e),a=this.dateOfBirthPicker.selectedDateType==ee.a.Gregorian?this.dateFormatterService.toHijri(e):e;this.dateString=this.dateFormatterService.toString(t),this.userForm.controls.dateOfBirthGregorian.setValue(this.dateFormatterService.toDate(n)),this.userForm.controls.dateOfBirthHijri.setValue(this.dateFormatterService.toString(a).split("/").reverse().join(""))}}},{key:"canSeeAddUpdateUser",get:function(){return this.authenticationService.hasAuthority(m.a.ADD_USER)||this.authenticationService.hasAuthority(m.a.EDIT_USER)}}]),e}()).\u0275fac=function(e){return new(e||Ye)(u["\u0275\u0275directiveInject"](r.FormBuilder),u["\u0275\u0275directiveInject"](o.f),u["\u0275\u0275directiveInject"](d.a),u["\u0275\u0275directiveInject"](v.b),u["\u0275\u0275directiveInject"](l.f),u["\u0275\u0275directiveInject"](l.a),u["\u0275\u0275directiveInject"](o.b),u["\u0275\u0275directiveInject"](g.e),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](K.a))},Ye.\u0275cmp=u["\u0275\u0275defineComponent"]({type:Ye,selectors:[["app-user-add-update"]],viewQuery:function(e,t){var n;1&e&&u["\u0275\u0275viewQuery"](ae,!0),2&e&&u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.dateOfBirthPicker=n.first)},decls:8,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],["class","text-dcc-primary",4,"ngIf"],["class","content__section",4,"ngIf"],[1,"text-dcc-primary"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-4"],[1,"form-group","col"],[1,"col-form-label"],[1,"text-danger","px-1"],["type","text","formControlName","firstName","required","","maxlength","25",1,"form-control",3,"value"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","fatherName","maxlength","25",1,"form-control",3,"value"],["type","text","formControlName","grandFatherName","maxlength","25",1,"form-control",3,"value"],["type","text","formControlName","familyName","required","","maxlength","25",1,"form-control",3,"value"],[1,"container-fluid","clearfix","p-0"],[1,"col-md-8","float-right","p-0"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-2"],["type","text","formControlName","nin","required","","maxlength","10",1,"form-control",3,"value"],["name","dateOfBirthGregorian","buttonClass","dcc-primary",3,"showLabel","selectedDate","isRequired","maxGreg","maxHijri","GregLabel","hijriLabel","selectedDateType","disabled","readonly","selectedDateChange"],["datePicker",""],["class","text-dcc-primary date-eq",4,"ngIf"],["class","invalid-feedback date-eq",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],["ngbRadioGroup","","name","radioGender",1,"form-control","p-0","btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn"],["ngbButton","","type","radio","formControlName","gender",3,"value"],["ngbRadioGroup","","name","radioActivated","formControlName","activated",1,"form-control","p-0","btn-group","btn-group-toggle"],["ngbButton","","type","radio",3,"value"],["type","text","formControlName","mobileNumber","required","","maxlength","10","placeholder","05xxxxxxxx",1,"form-control",3,"value"],["type","text","formControlName","email","required","","placeholder","mail@company.com","maxlength","50",1,"form-control",3,"value"],["formControlName","role","required",""],["disabled","","selected","",1,"hidden",3,"ngValue"],[3,"ngValue","text-danger","text-black-50",4,"ngFor","ngForOf"],[1,"col-md-4","float-right","px-3"],[1,"w-75","p-0","mx-auto","text-center"],[1,"mb-3","border","border-secondary","rounded-circle","mx-auto","w-100"],["src","data:image/gif;base64,",1,"rounded-circle","bg-secondary","avatar",3,"ngStyle"],["class","btn btn-secondary",4,"ngIf"],[4,"ngIf"],[1,"content__footer__action","clearfix"],["type","button",1,"btn","btn-outline-secondary","btn-w100","px-5","mr-3",3,"routerLink"],["type","button",1,"btn","btn-outline-dcc-primary","px-5","mr-3",3,"click"],[1,"invalid-feedback"],[1,"text-dcc-primary","date-eq"],[1,"invalid-feedback","date-eq"],["translate","",4,"ngIf"],["translate",""],[3,"ngValue"],[1,"btn","btn-secondary"],["type","file","name","avatarFile","aria-describedby","inputGroupFileAddon01",1,"hidden",3,"change"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"h2",2),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275template"](5,re,2,1,"b",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,ie,6,6,"div",4),u["\u0275\u0275template"](7,Xe,127,133,"div",4),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](4,4,"user-management.user_form")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",(null==t.user?null:t.user.id)>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!t.canSeeAddUpdateUser),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.canSeeAddUpdateUser))},directives:[a.u,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,r.DefaultValueAccessor,r.NgControlStatus,r.FormControlName,r.RequiredValidator,r.MaxLengthValidator,te.a,i.M,i.b,r.RadioControlValueAccessor,i.L,r.SelectControlValueAccessor,r.NgSelectOption,r["\u0275angular_packages_forms_forms_x"],a.t,a.x,l.g,g.a],pipes:[g.d],styles:[".avatar[_ngcontent-%COMP%]{width:100%;height:0;padding-bottom:100%;background-repeat:no-repeat;background-position:50%;background-size:cover}.datepicker[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}.date-eq[_ngcontent-%COMP%]{margin-top:-1.5rem;margin-bottom:-1rem;font-size:80%}.o-25[_ngcontent-%COMP%]{opacity:.25}"]}),Ye),tt=[{path:"users/create",component:et,canActivate:[o.a]},{path:"users/update/:id",component:et,canActivate:[o.a]},{path:"users/list",component:M,canActivate:[o.a]},{path:"users/details/:id",component:Y,canActivate:[o.a]}],nt=((Ze=function e(){_classCallCheck(this,e)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:Ze}),Ze.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ze)},providers:[],imports:[[l.j.forChild(tt)],l.j]}),Ze),at=n("i2L+"),rt=n("GZZj"),it=((Ke=function e(){_classCallCheck(this,e)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:Ke}),Ke.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ke)},providers:[o.f,i.a],imports:[[a.c,r.ReactiveFormsModule,i.w,nt,at.a,g.c,rt.a]]}),Ke)}}]);