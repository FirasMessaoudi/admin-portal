(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"904P":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fXoL"),a=n("3Pt+"),i=n("jhN1"),o=n("FpO7"),l=n("fXoL");t.TextMaskConfig=function(){return function(){}}(),t.MASKEDINPUT_VALUE_ACCESSOR={provide:a.NG_VALUE_ACCESSOR,useExisting:r.forwardRef((function(){return s})),multi:!0};var s=function(){function e(e,t,n){var r;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.textMaskConfig={mask:[],guide:!0,placeholderChar:"_",pipe:void 0,keepCharPositions:!1},this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=i.\u0275getDOM()?i.\u0275getDOM().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return e.prototype.ngOnChanges=function(e){this._setupMask(!0),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(this.inputElement.value)},e.prototype.writeValue=function(e){this._setupMask(),this._renderer.setProperty(this.inputElement,"value",null==e?"":e),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&(this._setupMask(),void 0!==this.textMaskInputElement&&(this.textMaskInputElement.update(e),this.onChange(e=this.inputElement.value)))},e.prototype._setupMask=function(e){void 0===e&&(e=!1),this.inputElement||(this.inputElement="INPUT"===this._elementRef.nativeElement.tagName.toUpperCase()?this._elementRef.nativeElement:this._elementRef.nativeElement.getElementsByTagName("INPUT")[0]),this.inputElement&&e&&(this.textMaskInputElement=o.createTextMaskInputElement(Object.assign({inputElement:this.inputElement},this.textMaskConfig)))},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this._handleInput(e)},e.propDecorators={textMaskConfig:[{type:r.Input,args:["textMask"]}]},e.\u0275fac=function(t){return new(t||e)(l.\u0275\u0275directiveInject(l.Renderer2),l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(a.COMPOSITION_BUFFER_MODE,8))},e.\u0275dir=l.\u0275\u0275defineDirective({type:e,selectors:[["","textMask",""]],hostBindings:function(e,t){1&e&&l.\u0275\u0275listener("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},inputs:{textMaskConfig:["textMask","textMaskConfig"]},exportAs:["textMask"],features:[l.\u0275\u0275ProvidersFeature([t.MASKEDINPUT_VALUE_ACCESSOR]),l.\u0275\u0275NgOnChangesFeature]}),e}();t.MaskedInputDirective=s,t.TextMaskModule=function(){function e(){}return e.\u0275mod=l.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=l.\u0275\u0275defineInjector({factory:function(t){return new(t||e)}}),e}();var c=n("FpO7");t.conformToMask=c.conformToMask},FpO7:function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return r(a).default}});var i=n(2);Object.defineProperty(t,"adjustCaretPosition",{enumerable:!0,get:function(){return r(i).default}});var o=n(5);Object.defineProperty(t,"createTextMaskInputElement",{enumerable:!0,get:function(){return r(o).default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,a=void 0===t?r:t,i=e.previousPlaceholder,o=void 0===i?r:i,l=e.currentCaretPosition,s=void 0===l?0:l,c=e.conformedValue,d=e.rawValue,p=e.placeholderChar,u=e.placeholder,m=e.indexesOfPipedChars,h=void 0===m?n:m,g=e.caretTrapIndexes,f=void 0===g?n:g;if(0===s||!d.length)return 0;var v=a.length,x=u.length,b=c.length,y=d.length-v,S=y>0;if(y>1&&!S&&0!==v)return s;var E=0,_=void 0,I=void 0;if(!S||a!==c&&c!==u){var C=c.toLowerCase(),A=d.toLowerCase().substr(0,s).split(r).filter((function(e){return-1!==C.indexOf(e)}));I=A[A.length-1];var k=o.substr(0,A.length).split(r).filter((function(e){return e!==p})).length,w=u.substr(0,A.length).split(r).filter((function(e){return e!==p})).length;!S&&(w!==k||void 0!==o[A.length-1]&&void 0!==u[A.length-2]&&o[A.length-1]!==p&&o[A.length-1]!==u[A.length-1]&&o[A.length-1]===u[A.length-2])&&k>0&&u.indexOf(I)>-1&&void 0!==d[s]&&(_=!0,I=d[s]);for(var M=h.map((function(e){return C[e]})).filter((function(e){return e===I})).length,O=A.filter((function(e){return e===I})).length,P=u.substr(0,u.indexOf(p)).split(r).filter((function(e,t){return e===I&&d[t]!==e})).length+O+M+(_?1:0),F=0,B=0;B<b&&(E=B+1,C[B]===I&&F++,!(F>=P));B++);}else E=s-y;if(S){for(var V=E,L=E;L<=x;L++)if(u[L]===p&&(V=L),u[L]===p||-1!==f.indexOf(L)||L===x)return V}else if(_){for(var T=E-1;T>=0;T--)if(c[T]===I||-1!==f.indexOf(T)||0===T)return T}else for(var R=E;R>=0;R--)if(u[R-1]===p||-1!==f.indexOf(R)||0===R)return R};var n=[],r=""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,a.isArray)(t)){if((void 0===t?"undefined":r(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,n),t=(0,a.processCaretTraps)(t).maskWithoutCaretTraps}var s=n.guide,c=void 0===s||s,d=n.previousConformedValue,p=void 0===d?l:d,u=n.placeholderChar,m=void 0===u?i.placeholderChar:u,h=n.placeholder,g=void 0===h?(0,a.convertMaskToPlaceholder)(t,m):h,f=n.currentCaretPosition,v=n.keepCharPositions,x=!1===c&&void 0!==p,b=e.length,y=p.length,S=g.length,E=t.length,_=b-y,I=_>0,C=f+(I?-_:0),A=C+Math.abs(_);if(!0===v&&!I){for(var k=l,w=C;w<A;w++)g[w]===m&&(k+=m);e=e.slice(0,C)+k+e.slice(C,b)}for(var M=e.split(l).map((function(e,t){return{char:e,isNew:t>=C&&t<A}})),O=b-1;O>=0;O--){var P=M[O].char;if(P!==m){var F=O>=C&&y===E;P===g[F?O-_:O]&&M.splice(O,1)}}var B=l,V=!1;e:for(var L=0;L<S;L++){var T=g[L];if(T===m){if(M.length>0)for(;M.length>0;){var R=M.shift(),j=R.char,N=R.isNew;if(j===m&&!0!==x){B+=m;continue e}if(t[L].test(j)){if(!0===v&&!1!==N&&p!==l&&!1!==c&&I){for(var D=M.length,q=null,U=0;U<D;U++){var $=M[U];if($.char!==m&&!1===$.isNew)break;if($.char===m){q=U;break}}null!==q?(B+=j,M.splice(q,1)):L--}else B+=j;continue e}V=!0}!1===x&&(B+=g.substr(L,S));break}B+=T}if(x&&!1===I){for(var W=null,G=0;G<B.length;G++)g[G]===m&&(W=G);B=null!==W?B.substr(0,W+1):l}return{conformedValue:B,meta:{someCharsRejected:V}}};var a=n(4),i=n(1),o=[],l=""},function(e,t,n){"use strict";function r(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.placeholderChar;if(!r(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")},t.isArray=r,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.isNil=function(e){return null==e},t.processCaretTraps=function(e){for(var t=[],n=void 0;-1!==(n=e.indexOf(o));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}};var a=n(1),i=[],o="[]"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){document.activeElement===e&&(g?f((function(){return e.setSelectionRange(t,t,m)}),0):e.setSelectionRange(t,t,m))}function i(e){if((0,d.isString)(e))return e;if((0,d.isNumber)(e))return String(e);if(null==e)return u;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,m=r.inputElement,g=r.mask,f=r.guide,v=r.pipe,x=r.placeholderChar,b=void 0===x?p.placeholderChar:x,y=r.keepCharPositions,S=void 0!==y&&y,E=r.showMask,_=void 0!==E&&E;if(void 0===n&&(n=m.value),n!==t.previousConformedValue){(void 0===g?"undefined":l(g))===h&&void 0!==g.pipe&&void 0!==g.mask&&(v=g.pipe,g=g.mask);var I=void 0,C=void 0;if(g instanceof Array&&(I=(0,d.convertMaskToPlaceholder)(g,b)),!1!==g){var A=i(n),k=m.selectionEnd,w=t.previousConformedValue,M=t.previousPlaceholder,O=void 0;if((void 0===g?"undefined":l(g))===p.strFunction){if(!1===(C=g(A,{currentCaretPosition:k,previousConformedValue:w,placeholderChar:b})))return;var P=(0,d.processCaretTraps)(C),F=P.maskWithoutCaretTraps,B=P.indexes;O=B,I=(0,d.convertMaskToPlaceholder)(C=F,b)}else C=g;var V={previousConformedValue:w,guide:f,placeholderChar:b,pipe:v,placeholder:I,currentCaretPosition:k,keepCharPositions:S},L=(0,c.default)(A,C,V),T=L.conformedValue,R=(void 0===v?"undefined":l(v))===p.strFunction,j={};R&&(!1===(j=v(T,o({rawValue:A},V)))?j={value:w,rejected:!0}:(0,d.isString)(j)&&(j={value:j}));var N=R?j.value:T,D=(0,s.default)({previousConformedValue:w,previousPlaceholder:M,conformedValue:N,placeholder:I,rawValue:A,currentCaretPosition:k,placeholderChar:b,indexesOfPipedChars:j.indexesOfPipedChars,caretTrapIndexes:O}),q=N===I&&0===D,U=_?I:u,$=q?U:N;t.previousConformedValue=$,t.previousPlaceholder=I,m.value!==$&&(m.value=$,a(m,D))}}}}};var s=r(n(2)),c=r(n(3)),d=n(4),p=n(1),u="",m="none",h="object",g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),f="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])},"wu7/":function(e,t,n){"use strict";n.r(t),n.d(t,"RoleManagementModule",(function(){return Be}));var r=n("ofXK"),a=n("tyNb"),i=n("rBgB"),o=n("6LkC"),l=n("yqJO"),s=n("mMUb"),c=n("ytaz"),d=n("fXoL"),p=n("FD72"),u=n("3Pt+"),m=n("sYmb"),h=n("ocNh"),g=n("1kSV");function f(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"a",5),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"general.btn_add")," "))}function v(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementStart"](3,"span",7),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function x(e,t){1&e&&d["\u0275\u0275element"](0,"input",26)}function b(e,t){1&e&&d["\u0275\u0275element"](0,"input",27)}function y(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",28),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275property"]("ngValue",e.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.currentLanguage.startsWith("en")?e.nameEnglish:e.nameArabic," ")}}function S(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"optgroup"),d["\u0275\u0275elementStart"](1,"option",28),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](3,y,2,2,"option",29),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275attribute"]("label",n.currentLanguage.startsWith("en")?e.nameEnglish:e.nameArabic),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngValue",e.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.currentLanguage.startsWith("en")?e.nameEnglish:e.nameArabic," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",e.children)}}function E(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"tr",30),d["\u0275\u0275elementStart"](1,"td",31),d["\u0275\u0275element"](2,"svg-icon",32),d["\u0275\u0275elementStart"](3,"p",33),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,1,"general.table_emtpy_text")))}function _(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",49),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3).$implicit,t=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," ")}}function I(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",49),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit,t=d["\u0275\u0275nextContext"](6);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," ")}}function C(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,I,2,1,"span",48),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](3).$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.authority.parentId===n.authority.id)}}function A(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",47),d["\u0275\u0275text"](1),d["\u0275\u0275template"](2,_,2,1,"span",48),d["\u0275\u0275template"](3,C,2,1,"ng-container",16),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2).$implicit,t=d["\u0275\u0275nextContext"]().$implicit,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!(e.authority.parentId||e.authority.children&&e.authority.children.length)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.roleAuthorities)}}function k(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,A,4,3,"a",46),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.authority.parentId)}}function w(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,k,2,1,"ng-container",45),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.authority.parentId)}}function M(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",50),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.activated")," "))}function O(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",51),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated")," "))}const P=function(e){return["/roles/update",e]},F=function(){return{edit:!0}};function B(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",52),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",53),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,3,"general.tooltip_edit")),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](5,P,null==e?null:e.id))("queryParams",d["\u0275\u0275pureFunction0"](7,F))}}function V(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"a",54),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).deactivateRole(t.id)})),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",55),d["\u0275\u0275elementEnd"]()}2&e&&d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,1,"general.tooltip_deactivate"))}function L(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"a",54),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).activateRole(t.id)})),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",56),d["\u0275\u0275elementEnd"]()}2&e&&d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,1,"general.tooltip_activate"))}function T(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"a",54),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"]().$implicit;return d["\u0275\u0275nextContext"](2).deleteRole(t.id)})),d["\u0275\u0275pipe"](1,"translate"),d["\u0275\u0275element"](2,"svg-icon",57),d["\u0275\u0275elementEnd"]()}2&e&&d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](1,1,"general.tooltip_delete"))}const R=function(e){return["/roles/details",e]};function j(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tr"),d["\u0275\u0275elementStart"](1,"td",34),d["\u0275\u0275elementStart"](2,"a",35),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"td",36),d["\u0275\u0275text"](5),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"td"),d["\u0275\u0275template"](7,w,2,1,"ng-container",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](8,"td",37),d["\u0275\u0275template"](9,M,3,3,"span",38),d["\u0275\u0275template"](10,O,3,3,"span",39),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"td",40),d["\u0275\u0275template"](12,B,3,8,"a",41),d["\u0275\u0275template"](13,V,3,3,"a",42),d["\u0275\u0275template"](14,L,3,3,"a",42),d["\u0275\u0275template"](15,T,3,3,"a",42),d["\u0275\u0275elementStart"](16,"a",43),d["\u0275\u0275pipe"](17,"translate"),d["\u0275\u0275element"](18,"svg-icon",44),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](14,R,null==e?null:e.id)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](e.id),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](n.currentLanguage.startsWith("en")?e.nameEnglish:e.nameArabic),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",e.roleAuthorities),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",e.activated),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.activated),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",e.id!=n.loggedInUserRoleId&&n.canEditRole),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.id!=n.loggedInUserRoleId&&e.activated&&n.canChangeRoleStatus),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.id!=n.loggedInUserRoleId&&!e.activated&&n.canChangeRoleStatus),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.id!=n.loggedInUserRoleId&&n.canDeleteRole),d["\u0275\u0275advance"](1),d["\u0275\u0275propertyInterpolate"]("ngbTooltip",d["\u0275\u0275pipeBind1"](17,12,"general.tooltip_view")),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](16,R,null==e?null:e.id))}}function N(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"li",60),d["\u0275\u0275elementStart"](1,"a",63),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const n=t.index;return d["\u0275\u0275nextContext"](3).loadPage(n)})),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.index,n=d["\u0275\u0275nextContext"](3);d["\u0275\u0275classProp"]("active",(null==n.page?null:n.page.number)==e),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](e+1)}}function D(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"nav",58),d["\u0275\u0275elementStart"](1,"ul",59),d["\u0275\u0275elementStart"](2,"li",60),d["\u0275\u0275elementStart"](3,"a",61),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"](2);return t.loadPage((null==t.page?null:t.page.number)-1)})),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,N,3,3,"li",62),d["\u0275\u0275elementStart"](7,"li",60),d["\u0275\u0275elementStart"](8,"a",63),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"](2);return t.loadPage((null==t.page?null:t.page.number)+1)})),d["\u0275\u0275text"](9),d["\u0275\u0275pipe"](10,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("disabled",null==e.page?null:e.page.first),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](5,7,"general.nav_previous")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",e.pageArray),d["\u0275\u0275advance"](1),d["\u0275\u0275classProp"]("disabled",null==e.page?null:e.page.last),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](10,9,"general.nav_next")," ")}}function q(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"div",8),d["\u0275\u0275elementStart"](2,"form",9),d["\u0275\u0275elementStart"](3,"div",10),d["\u0275\u0275elementStart"](4,"label",11),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,x,1,0,"input",12),d["\u0275\u0275template"](8,b,1,0,"input",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",10),d["\u0275\u0275elementStart"](10,"label",11),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"select",14),d["\u0275\u0275elementStart"](14,"option",15),d["\u0275\u0275text"](15),d["\u0275\u0275pipe"](16,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](17,S,4,4,"optgroup",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",17),d["\u0275\u0275elementStart"](19,"button",18),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().search()})),d["\u0275\u0275text"](20),d["\u0275\u0275pipe"](21,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"button",19),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().cancelSearch()})),d["\u0275\u0275text"](23),d["\u0275\u0275pipe"](24,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",20),d["\u0275\u0275elementStart"](26,"table",21),d["\u0275\u0275elementStart"](27,"thead"),d["\u0275\u0275elementStart"](28,"tr"),d["\u0275\u0275elementStart"](29,"th",22),d["\u0275\u0275text"](30,"#"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"th",23),d["\u0275\u0275text"](32),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"th",22),d["\u0275\u0275text"](35),d["\u0275\u0275pipe"](36,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](37,"th",22),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](40,"th",22),d["\u0275\u0275text"](41),d["\u0275\u0275pipe"](42,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"tbody"),d["\u0275\u0275template"](44,E,6,3,"tr",24),d["\u0275\u0275template"](45,j,19,18,"tr",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](46,D,11,11,"nav",25),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("formGroup",e.searchForm),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](6,18,"role-management.role_name")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",e.currentLanguage.startsWith("ar")),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.currentLanguage.startsWith("en")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](12,20,"role-management.authority")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngValue",-1),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](16,22,"general.select_option")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",e.authorities),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("disabled",e.searchForm.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](21,24,"general.btn_search")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](24,26,"general.btn_clear")," "),d["\u0275\u0275advance"](9),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](33,28,"role-management.role_name")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](36,30,"role-management.authorities")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](39,32,"role-management.role_status")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](42,34,"general.actions")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",!(null!=e.page&&e.page.content)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",null==e.page?null:e.page.content),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.page?null:e.page.content)}}let U=(()=>{class e{constructor(e,t,n,r,a,i,o){this.i18nService=e,this.roleService=t,this.formBuilder=n,this.toastr=r,this.translate=a,this.confirmDialogService=i,this.authenticationService=o}ngOnInit(){var e;this.loggedInUserRoleId=null===(e=this.authenticationService.currentUser.role)||void 0===e?void 0:e.id,this.canAddRole=this.authenticationService.hasAuthority(c.a.ADD_ROLE),this.loadPage(0),this.initForm(),this.getAuthorities()}ngOnDestroy(){this.listSubscription&&this.listSubscription.unsubscribe(),this.activateSubscription&&this.activateSubscription.unsubscribe(),this.deactivateSubscription&&this.deactivateSubscription.unsubscribe(),this.deleteSubscription&&this.deleteSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe()}getAuthorities(){this.roleService.listAuthorities().subscribe(e=>{this.authorities=[...e]})}initForm(){this.searchForm=this.formBuilder.group({authorityId:[-1],roleNameAr:[null],roleNameEn:[null]})}loadPage(e){this.listSubscription=this.roleService.listPaginated().subscribe(e=>{this.page=e,null!=this.page&&(this.pageArray=Array.from(this.pageCounter(this.page.totalPages)),this.roles=this.page.content,this.canEditRole=this.authenticationService.hasAuthority(c.a.EDIT_ROLE),this.canChangeRoleStatus=this.authenticationService.hasAuthority(c.a.CHANGE_ROLE_STATUS),this.canDeleteRole=this.authenticationService.hasAuthority(c.a.DELETE_ROLE))})}pageCounter(e){return new Array(e)}get currentLanguage(){return this.i18nService.language}search(){this.searchSubscription=this.roleService.search(this.searchForm.value.authorityId,this.searchForm.value.roleNameAr,this.searchForm.value.roleNameEn).subscribe(e=>{this.roles=[],this.pageArray=[],this.page=e,null!=this.page&&(this.pageArray=Array.from(this.pageCounter(this.page.totalPages)),this.roles=this.page.content)})}cancelSearch(){this.loadPage(0),this.initForm()}deleteRole(e){this.confirmDialogService.confirm("role-management.dialog_delete_confirm_text","role-management.dialog_delete_title").then(t=>{t&&(this.deleteSubscription=this.roleService.delete(e).subscribe(e=>{this.toastr.success(this.translate.instant("role-management.dialog_delete_success_text"),this.translate.instant("role-management.dialog_delete_title")),this.loadPage(0)},e=>{this.toastr.error(this.translate.instant("general.dialog_error_text"),this.translate.instant("role-management.dialog_delete_title"))}))})}activateRole(e){this.confirmDialogService.confirm("role-management.dialog_activate_confirm_text","role-management.dialog_activate_title").then(t=>{t&&(this.activateSubscription=this.roleService.activate(e).subscribe(e=>{this.toastr.success(this.translate.instant("role-management.dialog_activate_success_text"),this.translate.instant("role-management.dialog_activate_title")),this.loadPage(0)},e=>{this.toastr.error(this.translate.instant("general.dialog_error_text"),this.translate.instant("role-management.dialog_activate_title"))}))})}deactivateRole(e){this.confirmDialogService.confirm("role-management.dialog_deactivate_confirm_text","role-management.dialog_deactivate_title").then(t=>{t&&(this.deactivateSubscription=this.roleService.deactivate(e).subscribe(e=>{this.toastr.success(this.translate.instant("role-management.dialog_deactivate_success_text"),this.translate.instant("role-management.dialog_deactivate_title")),this.loadPage(0)},e=>{this.toastr.error(this.translate.instant("general.dialog_error_text"),this.translate.instant("role-management.dialog_deactivate_title"))}))})}get canSeeRoleList(){return this.authenticationService.hasAuthority(c.a.ROLE_MANAGEMENT)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](u.FormBuilder),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](m.e),d["\u0275\u0275directiveInject"](s.b),d["\u0275\u0275directiveInject"](o.b))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-applicant-list"]],decls:8,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],["routerLink","/roles/create","class","btn btn-outline-dcc-primary px-4",4,"ngIf"],["class","content__section",4,"ngIf"],["routerLink","/roles/create",1,"btn","btn-outline-dcc-primary","px-4"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],[1,"searchBox"],["enctype","multipart/form-data",1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3",3,"formGroup"],[1,"form-group","col"],[1,"col-form-label"],["type","text","formControlName","roleNameAr","class","form-control",4,"ngIf"],["type","text","formControlName","roleNameEn","class","form-control",4,"ngIf"],["formControlName","authorityId",1,"custom-select"],["disabled","","selected","",1,"hidden",3,"ngValue"],[4,"ngFor","ngForOf"],[1,"form-group","col","align-self-end"],["type","submit",1,"btn","btn-outline-dcc-primary","px-5","mr-3",3,"disabled","click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"table-responsive","my-4"],[1,"table","table-striped","table-hover"],["scope","col",1,"text-center"],["scope","col"],["class","text-center",4,"ngIf"],["aria-label","Page navigation example",4,"ngIf"],["type","text","formControlName","roleNameAr",1,"form-control"],["type","text","formControlName","roleNameEn",1,"form-control"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"text-center"],["colspan","10"],["styleClass","display-1 text-light-gray","icon","empty-set"],[1,"text-light-gray","mb-3"],["scope","row",1,"text-center"],[1,"text-dcc-primary","font-weight-bold",3,"routerLink"],["width","15%"],[2,"text-align","center"],["class","badge badge-success py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-warning py-2 px-4 badge-pill",4,"ngIf"],["width","20%",1,"text-center",2,"text-align","center"],["class","action mx-2",3,"routerLink","queryParams","ngbTooltip",4,"ngIf"],["class","action mx-2","href","javascript:void(0)",3,"ngbTooltip","click",4,"ngIf"],[1,"action","mx-2",3,"routerLink","ngbTooltip"],["styleClass","text-dcc-primary h3","icon","eye"],[4,"ngIf"],["class","badge badge-info py-1 px-2 badge-pill mx-1","href","javascript:void(0);",4,"ngIf"],["href","javascript:void(0);",1,"badge","badge-info","py-1","px-2","badge-pill","mx-1"],["class","badge badge-dcc-primary py-1 px-2 badge-pill mx-1",4,"ngIf"],[1,"badge","badge-dcc-primary","py-1","px-2","badge-pill","mx-1"],[1,"badge","badge-success","py-2","px-4","badge-pill"],[1,"badge","badge-warning","py-2","px-4","badge-pill"],[1,"action","mx-2",3,"routerLink","queryParams","ngbTooltip"],["styleClass","text-info h3","icon","edit"],["href","javascript:void(0)",1,"action","mx-2",3,"ngbTooltip","click"],["styleClass","text-warning h3","icon","user-tag-minus"],["styleClass","text-success h3","icon","user-tag-check"],["styleClass","text-danger h3","icon","user-tag-times"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],[1,"page-item"],["tabindex","-1",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"page-link",3,"click"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"h2",2),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](5,f,3,3,"a",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,v,6,6,"div",4),d["\u0275\u0275template"](7,q,47,36,"div",4),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](4,4,"role-management.roles_list")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",t.canAddRole),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.canSeeRoleList),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.canSeeRoleList))},directives:[r.u,a.i,u["\u0275angular_packages_forms_forms_y"],u.NgControlStatusGroup,u.FormGroupDirective,u.SelectControlValueAccessor,u.NgControlStatus,u.FormControlName,u.NgSelectOption,u["\u0275angular_packages_forms_forms_x"],r.t,u.DefaultValueAccessor,h.a,g.Q],pipes:[m.d],styles:["input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})();var $=n("itXk"),W=n("lJxs"),G=n("ADU/");function J(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",5),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementStart"](3,"span",6),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function X(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3).$implicit,t=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," ")}}function K(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"span",22),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit,t=d["\u0275\u0275nextContext"](5);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," ")}}function z(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,K,2,1,"span",21),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](3).$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.authority.parentId===n.authority.id)}}function H(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"a",20),d["\u0275\u0275text"](1),d["\u0275\u0275template"](2,X,2,1,"span",21),d["\u0275\u0275template"](3,z,2,1,"ng-container",13),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2).$implicit,t=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!(e.authority.parentId||e.authority.children&&e.authority.children.length)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.role.roleAuthorities)}}function Q(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,H,4,3,"a",19),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.authority.parentId)}}function Y(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Q,2,1,"ng-container",18),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.authority.parentId)}}function Z(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",23),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.not_activated")," "))}function ee(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"span",24),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,1,"user-management.activated")," "))}const te=function(){return["/roles/list"]};function ne(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",5),d["\u0275\u0275elementStart"](1,"form",7),d["\u0275\u0275elementStart"](2,"div",8),d["\u0275\u0275elementStart"](3,"div",9),d["\u0275\u0275elementStart"](4,"label",10),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"span",11),d["\u0275\u0275text"](8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",12),d["\u0275\u0275elementStart"](10,"label",10),d["\u0275\u0275text"](11),d["\u0275\u0275pipe"](12,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"div",11),d["\u0275\u0275template"](14,Y,2,1,"ng-container",13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",9),d["\u0275\u0275elementStart"](16,"label",10),d["\u0275\u0275text"](17),d["\u0275\u0275pipe"](18,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",11),d["\u0275\u0275template"](20,Z,3,3,"span",14),d["\u0275\u0275template"](21,ee,3,3,"span",15),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"div",9),d["\u0275\u0275elementStart"](23,"label",10),d["\u0275\u0275text"](24),d["\u0275\u0275pipe"](25,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"span",11),d["\u0275\u0275text"](27),d["\u0275\u0275pipe"](28,"dateFormat"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"div",9),d["\u0275\u0275elementStart"](30,"label",10),d["\u0275\u0275text"](31),d["\u0275\u0275pipe"](32,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](33,"span",11),d["\u0275\u0275text"](34),d["\u0275\u0275pipe"](35,"dateFormat"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](36,"div",16),d["\u0275\u0275elementStart"](37,"button",17),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](6,13,"role-management.role_name")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](e.currentLanguage.startsWith("en")?null==e.role?null:e.role.nameEnglish:null==e.role?null:e.role.nameArabic),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](12,15,"role-management.authorities")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",null==e.role?null:e.role.roleAuthorities),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](18,17,"role-management.role_status")),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngIf",!(null!=e.role&&e.role.activated)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",null==e.role?null:e.role.activated),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](25,19,"role-management.creation_date")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](28,21,null==e.role?null:e.role.creationDate)),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](32,23,"role-management.update_date")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](null!=e.role&&e.role.updateDate?d["\u0275\u0275pipeBind1"](35,25,null==e.role?null:e.role.updateDate):"--"),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction0"](29,te)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](39,27,"general.btn_back")," ")}}let re=(()=>{class e{constructor(e,t,n,r,a,i,o,l){this.route=e,this.router=t,this.toastr=n,this.translate=r,this.formBuilder=a,this.i18nService=i,this.roleService=o,this.authenticationService=l}get f(){return this.roleDetailsForm.controls}get currentLanguage(){return this.i18nService.language}loadAuthorities(){this.roleService.listAuthorities().subscribe(e=>{this.authorities=[...e]})}ngOnInit(){this.editMode=!1,this.loadAuthorities(),this.initForm(),Object($.a)(this.route.params,this.route.queryParams).pipe(Object(W.a)(e=>({params:e[0].id,qParams:e[1]}))).subscribe(e=>{this.roleId=+e.params,this.roleId?this.roleService.find(this.roleId).subscribe(t=>{t&&t.id?(this.role=t,e.qParams.edit&&this.enableEditMode(),this.updateForm()):(this.toastr.error(this.translate.instant("general.route_item_not_found",{itemId:this.roleId}),this.translate.instant("general.dialog_error_title")),this.goToList())}):(this.toastr.error(this.translate.instant("general.route_id_param_not_found"),this.translate.instant("general.dialog_error_title")),this.goToList())})}goToList(){this.router.navigate(["/roles/list"])}enableEditMode(){this.editMode=!0}saveOrUpdate(){this.roleDetailsForm.invalid||(this.updateUserModel(),this.roleService.saveOrUpdate(this.role).subscribe(e=>{e.hasOwnProperty("errors")&&e.errors?(this.toastr.warning(this.translate.instant("general.dialog_form_error_text"),this.translate.instant("general.dialog_edit_title")),Object.keys(this.roleDetailsForm.controls).forEach(t=>{if(console.log("looking for validation errors for : "+t),e.errors[t]){const n=this.roleDetailsForm.get(t);n.setErrors({invalid:e.errors[t].replace(/\{/,"").replace(/\}/,"")}),n.markAsTouched({onlySelf:!0})}})):(this.role=e,this.enableViewMode(),this.toastr.success(this.translate.instant("general.dialog_edit_success_text"),this.translate.instant("general.dialog_edit_title")))}))}updateUserModel(){}enableViewMode(){this.editMode=!1}initForm(){this.roleDetailsForm=this.formBuilder.group({id:[""],nin:["",u.Validators.required],gender:[""],mobileNumber:["",u.Validators.required],firstName:["",u.Validators.required],fatherName:["",u.Validators.required],email:["",[u.Validators.required,u.Validators.email]],grandFatherName:[""],familyName:["",u.Validators.required],dateOfBirthGregorian:["",u.Validators.required],dateOfBirthHijri:[""],avatar:[""],roleId:["",u.Validators.required]})}updateForm(){}resetUserRolesCheckboxes(e){for(let t of this.authorities)if(t.id==e.value)break}formatDate(e){return e.year+"-"+("00"+e.month).slice(-2)+"-"+("00"+e.day).slice(-2)}get canSeeRoleDetails(){return this.authenticationService.hasAuthority(c.a.ROLE_MANAGEMENT)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](a.a),d["\u0275\u0275directiveInject"](a.f),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](m.e),d["\u0275\u0275directiveInject"](u.FormBuilder),d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](o.b))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-details"]],features:[d["\u0275\u0275ProvidersFeature"]([r.f])],decls:9,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],[1,"text-dcc-primary"],["class","content__section",4,"ngIf"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],["enctype","multipart/form-data"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],[1,"form-group","col"],[1,"col-form-label"],[1,"form-control-plaintext"],[1,"form-group","col","col-lg-8","col-md-8"],[4,"ngFor","ngForOf"],["class","badge badge-danger py-2 px-4 badge-pill",4,"ngIf"],["class","badge badge-success py-2 px-4 badge-pill",4,"ngIf"],[1,"content__footer__action"],["type","button",1,"btn","btn-outline-secondary","btn-w100","px-5","mr-3",3,"routerLink"],[4,"ngIf"],["class","badge badge-info py-1 px-2 badge-pill mx-1","href","javascript:void(0);",4,"ngIf"],["href","javascript:void(0);",1,"badge","badge-info","py-1","px-2","badge-pill","mx-1"],["class","badge badge-dcc-primary py-1 px-2 badge-pill mx-1",4,"ngIf"],[1,"badge","badge-dcc-primary","py-1","px-2","badge-pill","mx-1"],[1,"badge","badge-danger","py-2","px-4","badge-pill"],[1,"badge","badge-success","py-2","px-4","badge-pill"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"h2",2),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementStart"](5,"b",3),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](7,J,6,6,"div",4),d["\u0275\u0275template"](8,ne,40,30,"div",4),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](4,4,"role-management.role_details")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](t.currentLanguage.startsWith("en")?null==t.role?null:t.role.nameEnglish:null==t.role?null:t.role.nameArabic),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.canSeeRoleDetails),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.canSeeRoleDetails))},directives:[r.u,u["\u0275angular_packages_forms_forms_y"],u.NgControlStatusGroup,u.NgForm,r.t,a.g],pipes:[m.d,G.c],styles:[".rounded-circle[_ngcontent-%COMP%]{max-width:75px;max-height:75px}#avatarFile[_ngcontent-%COMP%]{display:none}.title__Page[_ngcontent-%COMP%]{align-items:center!important}"]}),e})();var ae=n("xJks"),ie=n("jJTu"),oe=n("ousT");function le(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"b",5),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"]("#",null==e.role?null:e.role.id,"")}}function se(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementStart"](3,"span",7),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](2,2,"header.welcome")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](5,4,"general.app_name")))}function ce(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function de(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,e.f.nameArabic.errors.invalid))}}function pe(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,e.f.nameArabic.errors["invalid-characters"]))}}function ue(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",24),d["\u0275\u0275template"](1,ce,3,3,"div",25),d["\u0275\u0275template"](2,de,3,3,"div",25),d["\u0275\u0275template"](3,pe,3,3,"div",25),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameArabic.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameArabic.errors.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameArabic.errors["invalid-characters"])}}function me(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function he(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,e.f.nameEnglish.errors.invalid))}}function ge(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,e.f.nameEnglish.errors["invalid-characters"]))}}function fe(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",24),d["\u0275\u0275template"](1,me,3,3,"div",25),d["\u0275\u0275template"](2,he,3,3,"div",25),d["\u0275\u0275template"](3,ge,3,3,"div",25),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameEnglish.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameEnglish.errors.invalid),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameEnglish.errors["invalid-characters"])}}function ve(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,"general.field_validation_required")))}function xe(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275pipe"](2,"translate"),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](3);d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](2,1,e.f.activated.errors.invalid))}}function be(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div",24),d["\u0275\u0275template"](1,ve,3,3,"div",25),d["\u0275\u0275template"](2,xe,3,3,"div",25),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.activated.errors.required),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.activated.errors.invalid)}}const ye=function(){return{standalone:!0}};function Se(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"label",29),d["\u0275\u0275element"](1,"svg-icon",30),d["\u0275\u0275elementStart"](2,"input",31),d["\u0275\u0275listener"]("ngModelChange",(function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).$implicit.selected=t})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2).$implicit,t=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",e.selected)("ngModelOptions",d["\u0275\u0275pureFunction0"](3,ye)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," ")}}function Ee(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"label",29),d["\u0275\u0275element"](1,"svg-icon",30),d["\u0275\u0275elementStart"](2,"input",31),d["\u0275\u0275listener"]("ngModelChange",(function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().$implicit.selected=t})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](3),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]().$implicit,t=d["\u0275\u0275nextContext"](4);d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",e.selected)("ngModelOptions",d["\u0275\u0275pureFunction0"](3,ye)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," ")}}function _e(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Ee,4,4,"label",28),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=d["\u0275\u0275nextContext"](2).$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.authority.parentId===n.authority.id)}}function Ie(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275elementStart"](1,"label",26),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"div",27),d["\u0275\u0275template"](4,Se,4,4,"label",28),d["\u0275\u0275template"](5,_e,2,1,"ng-container",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=d["\u0275\u0275nextContext"]().$implicit,t=d["\u0275\u0275nextContext"](2);d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",t.currentLanguage.startsWith("en")?e.authority.nameEnglish:e.authority.nameArabic," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",!(e.authority.parentId||e.authority.children&&e.authority.children.length)),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.roleAuthorities)}}function Ce(e,t){if(1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,Ie,6,3,"ng-container",25),d["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!e.authority.parentId)}}const Ae=function(){return["/roles/list"]};function ke(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",6),d["\u0275\u0275elementStart"](1,"form",8),d["\u0275\u0275listener"]("ngSubmit",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().saveOrUpdateRole()})),d["\u0275\u0275elementStart"](2,"div",9),d["\u0275\u0275elementStart"](3,"div",10),d["\u0275\u0275elementStart"](4,"label",11),d["\u0275\u0275text"](5),d["\u0275\u0275pipe"](6,"translate"),d["\u0275\u0275elementStart"](7,"span",12),d["\u0275\u0275text"](8,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](9,"input",13),d["\u0275\u0275template"](10,ue,4,3,"div",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",10),d["\u0275\u0275elementStart"](12,"label",11),d["\u0275\u0275text"](13),d["\u0275\u0275pipe"](14,"translate"),d["\u0275\u0275elementStart"](15,"span",12),d["\u0275\u0275text"](16,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](17,"input",15),d["\u0275\u0275template"](18,fe,4,3,"div",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",10),d["\u0275\u0275elementStart"](20,"label",11),d["\u0275\u0275text"](21),d["\u0275\u0275pipe"](22,"translate"),d["\u0275\u0275elementStart"](23,"span",12),d["\u0275\u0275text"](24,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"div",16),d["\u0275\u0275elementStart"](26,"label",17),d["\u0275\u0275element"](27,"input",18),d["\u0275\u0275text"](28),d["\u0275\u0275pipe"](29,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"label",17),d["\u0275\u0275element"](31,"input",18),d["\u0275\u0275text"](32),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](34,be,3,2,"div",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](35,"div",19),d["\u0275\u0275elementStart"](36,"div",10),d["\u0275\u0275elementStart"](37,"label",11),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"translate"),d["\u0275\u0275elementStart"](40,"span",12),d["\u0275\u0275text"](41,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](42,Ce,2,1,"ng-container",20),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"div",21),d["\u0275\u0275elementStart"](44,"button",22),d["\u0275\u0275text"](45),d["\u0275\u0275pipe"](46,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](47,"button",23),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().saveOrUpdateRole()})),d["\u0275\u0275text"](48),d["\u0275\u0275pipe"](49,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("formGroup",e.roleForm),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](6,28,"role-management.role_name_ar")),d["\u0275\u0275advance"](4),d["\u0275\u0275classProp"]("is-invalid",e.f.nameArabic.invalid&&e.f.nameArabic.touched),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameArabic.invalid&&e.f.nameArabic.touched),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](14,30,"role-management.role_name_en")),d["\u0275\u0275advance"](4),d["\u0275\u0275classProp"]("is-invalid",e.f.nameEnglish.invalid&&e.f.nameEnglish.touched),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.f.nameEnglish.invalid&&e.f.nameEnglish.touched),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](22,32,"role-management.role_status")),d["\u0275\u0275advance"](5),d["\u0275\u0275classProp"]("btn-outline-secondary",!e.roleForm.value.activated)("btn-success",e.roleForm.value.activated),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",!0),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](29,34,"user-management.activated")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275classProp"]("btn-outline-secondary",e.roleForm.value.activated)("btn-danger",!e.roleForm.value.activated),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",!1),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](33,36,"user-management.not_activated")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",e.f.activated.invalid&&e.f.activated.touched),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](39,38,"role-management.authorities")),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngForOf",e.roleAuthorities),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction0"](44,Ae)),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](46,40,"general.btn_cancel")," "),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](49,42,"general.btn_save")," ")}}let we=(()=>{class e{constructor(e,t,n,r,a,i,o,l){this.formBuilder=e,this.roleService=t,this.i18nService=n,this.router=r,this.activeRoute=a,this.translate=i,this.toastr=o,this.authenticationService=l,this.role=new ae.a,this.roleAuthorities=[],this.selectedAuthorities=[]}ngOnInit(){this.initRoleForm(),this.loadAuthorities()}loadAuthorities(){this.roleService.listAuthorities().subscribe(e=>{this.roleAuthorities=[],e&&e.forEach(e=>{this.addRoleAuthority(e),e.children&&e.children.forEach(e=>this.addRoleAuthority(e))});let t=this.activeRoute.snapshot.params.id;t&&this.roleService.find(t).subscribe(e=>{this.role=e,this.updateRoleForm()})})}addRoleAuthority(e){let t=new ie.a;t.authority=e,this.roleAuthorities.push(t)}get f(){return this.roleForm.controls}initRoleForm(){this.roleForm=this.formBuilder.group({nameArabic:["",[u.Validators.required,oe.a.arabicCharacters(!1),u.Validators.maxLength(60),u.Validators.minLength(3)]],nameEnglish:["",[u.Validators.required,oe.a.latinCharacters(!1),u.Validators.maxLength(60),u.Validators.minLength(3)]],activated:[!1,u.Validators.required]})}updateRoleForm(){this.roleForm=this.formBuilder.group({id:[this.role.id],nameArabic:[this.role.nameArabic,[u.Validators.required,u.Validators.maxLength(60),u.Validators.minLength(3)]],nameEnglish:[this.role.nameEnglish,[u.Validators.required,u.Validators.maxLength(60),u.Validators.minLength(3)]],activated:[this.role.activated,u.Validators.required]}),this.roleAuthorities.forEach(e=>{this.role.roleAuthorities.filter(t=>t.authority.id===e.authority.id).length>0&&(e.selected=!0)})}goToList(){this.router.navigate(["/roles/list"])}get currentLanguage(){return this.i18nService.language}saveOrUpdateRole(){Object.keys(this.roleForm.controls).forEach(e=>{this.roleForm.get(e).markAsTouched({onlySelf:!0})}),this.roleForm.invalid||(this.role=this.roleForm.value,this.role.roleAuthorities=this.roleAuthorities.filter(e=>e.selected),this.role.roleAuthorities.forEach(e=>{let t=this.roleAuthorities.find(t=>t.authority.id===e.authority.parentId);t&&!this.role.roleAuthorities.find(e=>e.authority.id==t.authority.id)&&this.role.roleAuthorities.push(t)}),this.roleAuthorities.filter(e=>null===e.authority.parentId).forEach(e=>{this.role.roleAuthorities.find(t=>e.authority.id==t.authority.id)&&!e.authority.children.filter(e=>this.role.roleAuthorities.find(t=>e.id==t.authority.id)).length&&(this.role.roleAuthorities=this.role.roleAuthorities.filter(t=>t.authority.id!==e.authority.id))}),this.roleService.saveOrUpdate(this.role).subscribe(e=>{e.hasOwnProperty("errors")&&e.errors?(this.toastr.warning(this.translate.instant("general.dialog_form_error_text"),this.translate.instant("general.dialog_edit_title")),Object.keys(this.roleForm.controls).forEach(t=>{if(console.log("looking for validation errors for : "+t),e.errors[t]){const n=this.roleForm.get(t);n.setErrors({invalid:e.errors[t].replace(/\{/,"").replace(/\}/,"")}),n.markAsTouched({onlySelf:!0})}})):(this.toastr.success(this.translate.instant("general.dialog_edit_success_text"),this.translate.instant("general.dialog_edit_title")),this.goToList())}))}toggleAuthority(e){e.selected=!e.selected}get canSeeAddUpdateRole(){return this.authenticationService.hasAuthority(c.a.ADD_ROLE)||this.authenticationService.hasAuthority(c.a.EDIT_ROLE)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](u.FormBuilder),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](a.f),d["\u0275\u0275directiveInject"](a.a),d["\u0275\u0275directiveInject"](m.e),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](o.b))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-update-role"]],decls:8,vars:6,consts:[[1,"content__wrapper"],[1,"title__Page"],[1,"sectionTitle"],["class","text-dcc-primary",4,"ngIf"],["class","content__section",4,"ngIf"],[1,"text-dcc-primary"],[1,"content__section"],[1,"font-weight-bold","text-dcc-primary"],[3,"formGroup","ngSubmit"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3"],[1,"form-group","col"],[1,"col-form-label"],[1,"text-danger","px-1"],["type","text","formControlName","nameArabic","required","","maxlength","25",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","nameEnglish","required","","maxlength","25",1,"form-control"],["ngbRadioGroup","","name","radioBasic","formControlName","activated",1,"form-control","p-0","border-0","btn-group","btn-group-toggle"],["ngbButtonLabel","",1,"btn"],["ngbButton","","type","radio",3,"value"],[1,"row","row-cols-12"],[4,"ngFor","ngForOf"],[1,"content__footer__action"],["type","button",1,"btn","btn-outline-secondary","btn-w100","px-5","mr-3",3,"routerLink"],["type","button",1,"btn","btn-outline-dcc-primary","px-5","mr-3",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col","text-dark","font-weight-bold"],[1,"form-control","p-0","border-0","btn-group","btn-group-toggle"],["ngbButtonLabel","","class","btn btn-outline-info",4,"ngIf"],["ngbButtonLabel","",1,"btn","btn-outline-info"],["styleClass","text-white h3","icon","check-circle"],["ngbButton","","type","checkbox",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"h2",2),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275template"](5,le,2,1,"b",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](6,se,6,6,"div",4),d["\u0275\u0275template"](7,ke,50,45,"div",4),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("",d["\u0275\u0275pipeBind1"](4,4,"role-management.role_form")," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",(null==t.role?null:t.role.id)>0),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",!t.canSeeAddUpdateRole),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.canSeeAddUpdateRole))},directives:[r.u,u["\u0275angular_packages_forms_forms_y"],u.NgControlStatusGroup,u.FormGroupDirective,u.DefaultValueAccessor,u.NgControlStatus,u.FormControlName,u.RequiredValidator,u.MaxLengthValidator,g.M,g.b,g.L,r.t,a.g,h.a,u.CheckboxControlValueAccessor,g.g,u.NgModel],pipes:[m.d],styles:["[dir=rtl][_ngcontent-%COMP%]   .form-control.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:first-child:not(:last-child){border-radius:0 .5rem .5rem 0}[dir=ltr][_ngcontent-%COMP%]   .form-control.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:first-child:not(:last-child){border-radius:.5rem 0 0 .5rem}.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:not(:last-child):not(:first-child):not(.dropdown-toggle){border-radius:0}"]}),e})();const Me=[{path:"roles/create",component:we,canActivate:[o.a]},{path:"roles/update/:id",component:we,canActivate:[o.a]},{path:"roles/list",component:U,canActivate:[o.a]},{path:"roles/details/:id",component:re,canActivate:[o.a]}];let Oe=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[a.j.forChild(Me)],a.j]}),e})();var Pe=n("i2L+"),Fe=n("904P");let Be=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,Oe,Pe.a,g.w,u.FormsModule,u.ReactiveFormsModule,Fe.TextMaskModule,m.c]]}),e})()}}]);