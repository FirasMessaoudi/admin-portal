{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"904P\":function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var core_1=__webpack_require__(\"fXoL\"),forms_1=__webpack_require__(\"3Pt+\"),platform_browser_1=__webpack_require__(\"jhN1\"),textMaskCore_1=__webpack_require__(\"FpO7\"),ɵngcc0=__webpack_require__(\"fXoL\");exports.TextMaskConfig=function(){return function(){}}(),exports.MASKEDINPUT_VALUE_ACCESSOR={provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef((function(){return MaskedInputDirective})),multi:!0};var MaskedInputDirective=function(){function MaskedInputDirective(_renderer,_elementRef,_compositionMode){var userAgent;this._renderer=_renderer,this._elementRef=_elementRef,this._compositionMode=_compositionMode,this.textMaskConfig={mask:[],guide:!0,placeholderChar:\"_\",pipe:void 0,keepCharPositions:!1},this.onChange=function(_){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(userAgent=platform_browser_1.ɵgetDOM()?platform_browser_1.ɵgetDOM().getUserAgent():\"\",!/android (\\d+)/.test(userAgent.toLowerCase())))}return MaskedInputDirective.prototype.ngOnChanges=function(changes){this._setupMask(!0),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(this.inputElement.value)},MaskedInputDirective.prototype.writeValue=function(value){this._setupMask(),this._renderer.setProperty(this.inputElement,\"value\",null==value?\"\":value),void 0!==this.textMaskInputElement&&this.textMaskInputElement.update(value)},MaskedInputDirective.prototype.registerOnChange=function(fn){this.onChange=fn},MaskedInputDirective.prototype.registerOnTouched=function(fn){this.onTouched=fn},MaskedInputDirective.prototype.setDisabledState=function(isDisabled){this._renderer.setProperty(this._elementRef.nativeElement,\"disabled\",isDisabled)},MaskedInputDirective.prototype._handleInput=function(value){(!this._compositionMode||this._compositionMode&&!this._composing)&&(this._setupMask(),void 0!==this.textMaskInputElement&&(this.textMaskInputElement.update(value),this.onChange(value=this.inputElement.value)))},MaskedInputDirective.prototype._setupMask=function(create){void 0===create&&(create=!1),this.inputElement||(this.inputElement=\"INPUT\"===this._elementRef.nativeElement.tagName.toUpperCase()?this._elementRef.nativeElement:this._elementRef.nativeElement.getElementsByTagName(\"INPUT\")[0]),this.inputElement&&create&&(this.textMaskInputElement=textMaskCore_1.createTextMaskInputElement(Object.assign({inputElement:this.inputElement},this.textMaskConfig)))},MaskedInputDirective.prototype._compositionStart=function(){this._composing=!0},MaskedInputDirective.prototype._compositionEnd=function(value){this._composing=!1,this._compositionMode&&this._handleInput(value)},MaskedInputDirective.propDecorators={textMaskConfig:[{type:core_1.Input,args:[\"textMask\"]}]},MaskedInputDirective.ɵfac=function(t){return new(t||MaskedInputDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2),ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef),ɵngcc0.ɵɵdirectiveInject(forms_1.COMPOSITION_BUFFER_MODE,8))},MaskedInputDirective.ɵdir=ɵngcc0.ɵɵdefineDirective({type:MaskedInputDirective,selectors:[[\"\",\"textMask\",\"\"]],hostBindings:function(rf,ctx){1&rf&&ɵngcc0.ɵɵlistener(\"input\",(function($event){return ctx._handleInput($event.target.value)}))(\"blur\",(function(){return ctx.onTouched()}))(\"compositionstart\",(function(){return ctx._compositionStart()}))(\"compositionend\",(function($event){return ctx._compositionEnd($event.target.value)}))},inputs:{textMaskConfig:[\"textMask\",\"textMaskConfig\"]},exportAs:[\"textMask\"],features:[ɵngcc0.ɵɵProvidersFeature([exports.MASKEDINPUT_VALUE_ACCESSOR]),ɵngcc0.ɵɵNgOnChangesFeature]}),MaskedInputDirective}();exports.MaskedInputDirective=MaskedInputDirective,exports.TextMaskModule=function(){function TextMaskModule(){}return TextMaskModule.ɵmod=ɵngcc0.ɵɵdefineNgModule({type:TextMaskModule}),TextMaskModule.ɵinj=ɵngcc0.ɵɵdefineInjector({factory:function(t){return new(t||TextMaskModule)}}),TextMaskModule}();var textMaskCore_2=__webpack_require__(\"FpO7\");exports.conformToMask=textMaskCore_2.conformToMask},FpO7:function(module,exports,__webpack_require__){module.exports=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p=\"\",r(0)}([function(e,r,t){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,\"__esModule\",{value:!0});var o=t(3);Object.defineProperty(r,\"conformToMask\",{enumerable:!0,get:function(){return n(o).default}});var i=t(2);Object.defineProperty(r,\"adjustCaretPosition\",{enumerable:!0,get:function(){return n(i).default}});var a=t(5);Object.defineProperty(r,\"createTextMaskInputElement\",{enumerable:!0,get:function(){return n(a).default}})},function(e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.placeholderChar=\"_\",r.strFunction=\"function\"},function(e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=function(e){var r=e.previousConformedValue,t=void 0===r?o:r,i=e.previousPlaceholder,a=void 0===i?o:i,u=e.currentCaretPosition,l=void 0===u?0:u,s=e.conformedValue,f=e.rawValue,d=e.placeholderChar,c=e.placeholder,p=e.indexesOfPipedChars,v=void 0===p?n:p,h=e.caretTrapIndexes,m=void 0===h?n:h;if(0===l||!f.length)return 0;var g=t.length,b=c.length,C=s.length,P=f.length-g,k=P>0;if(P>1&&!k&&0!==g)return l;var w=0,M=void 0,S=void 0;if(!k||t!==s&&s!==c){var j=s.toLowerCase(),A=f.toLowerCase().substr(0,l).split(o).filter((function(e){return-1!==j.indexOf(e)}));S=A[A.length-1];var N=a.substr(0,A.length).split(o).filter((function(e){return e!==d})).length,E=c.substr(0,A.length).split(o).filter((function(e){return e!==d})).length;!k&&(E!==N||void 0!==a[A.length-1]&&void 0!==c[A.length-2]&&a[A.length-1]!==d&&a[A.length-1]!==c[A.length-1]&&a[A.length-1]===c[A.length-2])&&N>0&&c.indexOf(S)>-1&&void 0!==f[l]&&(M=!0,S=f[l]);for(var J=v.map((function(e){return j[e]})).filter((function(e){return e===S})).length,W=A.filter((function(e){return e===S})).length,L=c.substr(0,c.indexOf(d)).split(o).filter((function(e,r){return e===S&&f[r]!==e})).length+W+J+(M?1:0),z=0,B=0;B<C&&(w=B+1,j[B]===S&&z++,!(z>=L));B++);}else w=l-P;if(k){for(var G=w,H=w;H<=b;H++)if(c[H]===d&&(G=H),c[H]===d||-1!==m.indexOf(H)||H===b)return G}else if(M){for(var K=w-1;K>=0;K--)if(s[K]===S||-1!==m.indexOf(K)||0===K)return K}else for(var Q=w;Q>=0;Q--)if(c[Q-1]===d||-1!==m.indexOf(Q)||0===Q)return Q};var n=[],o=\"\"},function(e,r,t){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,i.isArray)(r)){if((void 0===r?\"undefined\":o(r))!==a.strFunction)throw new Error(\"Text-mask:conformToMask; The mask property must be an array.\");r=r(e,t),r=(0,i.processCaretTraps)(r).maskWithoutCaretTraps}var n=t.guide,s=void 0===n||n,f=t.previousConformedValue,d=void 0===f?l:f,c=t.placeholderChar,p=void 0===c?a.placeholderChar:c,v=t.placeholder,h=void 0===v?(0,i.convertMaskToPlaceholder)(r,p):v,m=t.currentCaretPosition,y=t.keepCharPositions,g=!1===s&&void 0!==d,b=e.length,C=d.length,P=h.length,k=r.length,x=b-C,O=x>0,T=m+(O?-x:0),w=T+Math.abs(x);if(!0===y&&!O){for(var M=l,S=T;S<w;S++)h[S]===p&&(M+=p);e=e.slice(0,T)+M+e.slice(T,b)}for(var j=e.split(l).map((function(e,r){return{char:e,isNew:r>=T&&r<w}})),_=b-1;_>=0;_--){var V=j[_].char;if(V!==p){var A=_>=T&&C===k;V===h[A?_-x:_]&&j.splice(_,1)}}var N=l,E=!1;e:for(var F=0;F<P;F++){var R=h[F];if(R===p){if(j.length>0)for(;j.length>0;){var I=j.shift(),J=I.char,W=I.isNew;if(J===p&&!0!==g){N+=p;continue e}if(r[F].test(J)){if(!0===y&&!1!==W&&d!==l&&!1!==s&&O){for(var q=j.length,L=null,z=0;z<q;z++){var B=j[z];if(B.char!==p&&!1===B.isNew)break;if(B.char===p){L=z;break}}null!==L?(N+=J,j.splice(L,1)):F--}else N+=J;continue e}E=!0}!1===g&&(N+=h.substr(F,P));break}N+=R}if(g&&!1===O){for(var D=null,G=0;G<N.length;G++)h[G]===p&&(D=G);N=null!==D?N.substr(0,D+1):l}return{conformedValue:N,meta:{someCharsRejected:E}}};var i=t(4),a=t(1),u=[],l=\"\"},function(e,r,t){\"use strict\";function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(r,\"__esModule\",{value:!0}),r.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(e))throw new Error(\"Text-mask:convertMaskToPlaceholder; The mask property must be an array.\");if(-1!==e.indexOf(r))throw new Error(\"Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\\n\\nThe placeholder character that was received is: \"+JSON.stringify(r)+\"\\n\\nThe mask that was received is: \"+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?r:e})).join(\"\")},r.isArray=o,r.isString=function(e){return\"string\"==typeof e||e instanceof String},r.isNumber=function(e){return\"number\"==typeof e&&void 0===e.length&&!isNaN(e)},r.isNil=function(e){return null==e},r.processCaretTraps=function(e){for(var r=[],t=void 0;-1!==(t=e.indexOf(d));)r.push(t),e.splice(t,1);return{maskWithoutCaretTraps:e,indexes:r}};var s=t(1),f=[],d=\"[]\"},function(e,r,t){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,r){document.activeElement===e&&(g?b((function(){return e.setSelectionRange(r,r,m)}),0):e.setSelectionRange(r,r,m))}function a(e){if((0,p.isString)(e))return e;if((0,p.isNumber)(e))return String(e);if(null==e)return h;throw new Error(\"The 'value' provided to Text Mask needs to be a string or a number. The value received was:\\n\\n \"+JSON.stringify(e))}Object.defineProperty(r,\"__esModule\",{value:!0});var u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.default=function(e){var r={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:r,update:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,s=n.mask,d=n.guide,m=n.pipe,g=n.placeholderChar,b=void 0===g?v.placeholderChar:g,C=n.keepCharPositions,P=void 0!==C&&C,k=n.showMask,x=void 0!==k&&k;if(void 0===t&&(t=o.value),t!==r.previousConformedValue){(void 0===s?\"undefined\":l(s))===y&&void 0!==s.pipe&&void 0!==s.mask&&(m=s.pipe,s=s.mask);var O=void 0,T=void 0;if(s instanceof Array&&(O=(0,p.convertMaskToPlaceholder)(s,b)),!1!==s){var w=a(t),M=o.selectionEnd,S=r.previousConformedValue,j=r.previousPlaceholder,_=void 0;if((void 0===s?\"undefined\":l(s))===v.strFunction){if(!1===(T=s(w,{currentCaretPosition:M,previousConformedValue:S,placeholderChar:b})))return;var V=(0,p.processCaretTraps)(T),A=V.maskWithoutCaretTraps,N=V.indexes;_=N,O=(0,p.convertMaskToPlaceholder)(T=A,b)}else T=s;var E={previousConformedValue:S,guide:d,placeholderChar:b,pipe:m,placeholder:O,currentCaretPosition:M,keepCharPositions:P},F=(0,c.default)(w,T,E),R=F.conformedValue,I=(void 0===m?\"undefined\":l(m))===v.strFunction,J={};I&&(!1===(J=m(R,u({rawValue:w},E)))?J={value:S,rejected:!0}:(0,p.isString)(J)&&(J={value:J}));var W=I?J.value:R,q=(0,f.default)({previousConformedValue:S,previousPlaceholder:j,conformedValue:W,placeholder:O,rawValue:w,currentCaretPosition:M,placeholderChar:b,indexesOfPipedChars:J.indexesOfPipedChars,caretTrapIndexes:_}),L=W===O&&0===q,z=x?O:h,B=L?z:W;r.previousConformedValue=B,r.previousPlaceholder=O,o.value!==B&&(o.value=B,i(o,q))}}}}};var f=n(t(2)),c=n(t(3)),p=t(4),v=t(1),h=\"\",m=\"none\",y=\"object\",g=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),b=\"undefined\"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])},\"wu7/\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"RoleManagementModule\",(function(){return role_management_module_RoleManagementModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_router=__webpack_require__(\"tyNb\"),role_service=__webpack_require__(\"rBgB\"),services=__webpack_require__(\"6LkC\"),toast_service=__webpack_require__(\"yqJO\"),confirm_dialog=__webpack_require__(\"mMUb\"),authority_enum=__webpack_require__(\"ytaz\"),core=__webpack_require__(\"fXoL\"),dcc_commons_ng_services=__webpack_require__(\"FD72\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ngx_translate_core=__webpack_require__(\"sYmb\"),icon_component=__webpack_require__(\"ocNh\"),ng_bootstrap=__webpack_require__(\"1kSV\");function RoleListComponent_a_5_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"a\",5),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,1,\"general.btn_add\"),\" \"))}function RoleListComponent_div_6_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",6),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementStart\"](3,\"span\",7),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,2,\"header.welcome\"),\" \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](5,4,\"general.app_name\")))}function RoleListComponent_div_7_input_7_Template(rf,ctx){1&rf&&core[\"ɵɵelement\"](0,\"input\",26)}function RoleListComponent_div_7_input_8_Template(rf,ctx){1&rf&&core[\"ɵɵelement\"](0,\"input\",27)}function RoleListComponent_div_7_optgroup_17_option_3_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"option\",28),core[\"ɵɵtext\"](1),core[\"ɵɵelementEnd\"]()),2&rf){const childAuthority_r11=ctx.$implicit,ctx_r10=core[\"ɵɵnextContext\"](3);core[\"ɵɵproperty\"](\"ngValue\",childAuthority_r11.id),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r10.currentLanguage.startsWith(\"en\")?childAuthority_r11.nameEnglish:childAuthority_r11.nameArabic,\" \")}}function RoleListComponent_div_7_optgroup_17_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"optgroup\"),core[\"ɵɵelementStart\"](1,\"option\",28),core[\"ɵɵtext\"](2),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](3,RoleListComponent_div_7_optgroup_17_option_3_Template,2,2,\"option\",29),core[\"ɵɵelementEnd\"]()),2&rf){const authority_r9=ctx.$implicit,ctx_r5=core[\"ɵɵnextContext\"](2);core[\"ɵɵattribute\"](\"label\",ctx_r5.currentLanguage.startsWith(\"en\")?authority_r9.nameEnglish:authority_r9.nameArabic),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngValue\",authority_r9.id),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r5.currentLanguage.startsWith(\"en\")?authority_r9.nameEnglish:authority_r9.nameArabic,\" \"),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngForOf\",authority_r9.children)}}function RoleListComponent_div_7_tr_44_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"tr\",30),core[\"ɵɵelementStart\"](1,\"td\",31),core[\"ɵɵelement\"](2,\"svg-icon\",32),core[\"ɵɵelementStart\"](3,\"p\",33),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](5,1,\"general.table_emtpy_text\")))}function RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_span_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",49),core[\"ɵɵtext\"](1),core[\"ɵɵelementEnd\"]()),2&rf){const roleAuthority_r20=core[\"ɵɵnextContext\"](3).$implicit,ctx_r23=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r23.currentLanguage.startsWith(\"en\")?roleAuthority_r20.authority.nameEnglish:roleAuthority_r20.authority.nameArabic,\" \")}}function RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_ng_container_3_span_1_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",49),core[\"ɵɵtext\"](1),core[\"ɵɵelementEnd\"]()),2&rf){const childRoleAuthority_r26=core[\"ɵɵnextContext\"]().$implicit,ctx_r27=core[\"ɵɵnextContext\"](6);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r27.currentLanguage.startsWith(\"en\")?childRoleAuthority_r26.authority.nameEnglish:childRoleAuthority_r26.authority.nameArabic,\" \")}}function RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_ng_container_3_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_ng_container_3_span_1_Template,2,1,\"span\",48),core[\"ɵɵelementContainerEnd\"]()),2&rf){const childRoleAuthority_r26=ctx.$implicit,roleAuthority_r20=core[\"ɵɵnextContext\"](3).$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",childRoleAuthority_r26.authority.parentId===roleAuthority_r20.authority.id)}}function RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"a\",47),core[\"ɵɵtext\"](1),core[\"ɵɵtemplate\"](2,RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_span_2_Template,2,1,\"span\",48),core[\"ɵɵtemplate\"](3,RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_ng_container_3_Template,2,1,\"ng-container\",16),core[\"ɵɵelementEnd\"]()),2&rf){const roleAuthority_r20=core[\"ɵɵnextContext\"](2).$implicit,role_r12=core[\"ɵɵnextContext\"]().$implicit,ctx_r22=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r22.currentLanguage.startsWith(\"en\")?roleAuthority_r20.authority.nameEnglish:roleAuthority_r20.authority.nameArabic,\" \"),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!(roleAuthority_r20.authority.parentId||roleAuthority_r20.authority.children&&roleAuthority_r20.authority.children.length)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngForOf\",role_r12.roleAuthorities)}}function RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_a_1_Template,4,3,\"a\",46),core[\"ɵɵelementContainerEnd\"]()),2&rf){const roleAuthority_r20=core[\"ɵɵnextContext\"]().$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!roleAuthority_r20.authority.parentId)}}function RoleListComponent_div_7_tr_45_ng_container_7_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleListComponent_div_7_tr_45_ng_container_7_ng_container_1_Template,2,1,\"ng-container\",45),core[\"ɵɵelementContainerEnd\"]()),2&rf){const roleAuthority_r20=ctx.$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!roleAuthority_r20.authority.parentId)}}function RoleListComponent_div_7_tr_45_span_9_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",50),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,1,\"user-management.activated\"),\" \"))}function RoleListComponent_div_7_tr_45_span_10_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",51),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,1,\"user-management.not_activated\"),\" \"))}const _c0=function(a1){return[\"/roles/update\",a1]},_c1=function(){return{edit:!0}};function RoleListComponent_div_7_tr_45_a_12_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"a\",52),core[\"ɵɵpipe\"](1,\"translate\"),core[\"ɵɵelement\"](2,\"svg-icon\",53),core[\"ɵɵelementEnd\"]()),2&rf){const role_r12=core[\"ɵɵnextContext\"]().$implicit;core[\"ɵɵpropertyInterpolate\"](\"ngbTooltip\",core[\"ɵɵpipeBind1\"](1,3,\"general.tooltip_edit\")),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](5,_c0,null==role_r12?null:role_r12.id))(\"queryParams\",core[\"ɵɵpureFunction0\"](7,_c1))}}function RoleListComponent_div_7_tr_45_a_13_Template(rf,ctx){if(1&rf){const _r36=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"a\",54),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r36);const role_r12=core[\"ɵɵnextContext\"]().$implicit;return core[\"ɵɵnextContext\"](2).deactivateRole(role_r12.id)})),core[\"ɵɵpipe\"](1,\"translate\"),core[\"ɵɵelement\"](2,\"svg-icon\",55),core[\"ɵɵelementEnd\"]()}2&rf&&core[\"ɵɵpropertyInterpolate\"](\"ngbTooltip\",core[\"ɵɵpipeBind1\"](1,1,\"general.tooltip_deactivate\"))}function RoleListComponent_div_7_tr_45_a_14_Template(rf,ctx){if(1&rf){const _r39=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"a\",54),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r39);const role_r12=core[\"ɵɵnextContext\"]().$implicit;return core[\"ɵɵnextContext\"](2).activateRole(role_r12.id)})),core[\"ɵɵpipe\"](1,\"translate\"),core[\"ɵɵelement\"](2,\"svg-icon\",56),core[\"ɵɵelementEnd\"]()}2&rf&&core[\"ɵɵpropertyInterpolate\"](\"ngbTooltip\",core[\"ɵɵpipeBind1\"](1,1,\"general.tooltip_activate\"))}function RoleListComponent_div_7_tr_45_a_15_Template(rf,ctx){if(1&rf){const _r42=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"a\",54),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r42);const role_r12=core[\"ɵɵnextContext\"]().$implicit;return core[\"ɵɵnextContext\"](2).deleteRole(role_r12.id)})),core[\"ɵɵpipe\"](1,\"translate\"),core[\"ɵɵelement\"](2,\"svg-icon\",57),core[\"ɵɵelementEnd\"]()}2&rf&&core[\"ɵɵpropertyInterpolate\"](\"ngbTooltip\",core[\"ɵɵpipeBind1\"](1,1,\"general.tooltip_delete\"))}const _c2=function(a1){return[\"/roles/details\",a1]};function RoleListComponent_div_7_tr_45_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"tr\"),core[\"ɵɵelementStart\"](1,\"td\",34),core[\"ɵɵelementStart\"](2,\"a\",35),core[\"ɵɵtext\"](3),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](4,\"td\",36),core[\"ɵɵtext\"](5),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](6,\"td\"),core[\"ɵɵtemplate\"](7,RoleListComponent_div_7_tr_45_ng_container_7_Template,2,1,\"ng-container\",16),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](8,\"td\",37),core[\"ɵɵtemplate\"](9,RoleListComponent_div_7_tr_45_span_9_Template,3,3,\"span\",38),core[\"ɵɵtemplate\"](10,RoleListComponent_div_7_tr_45_span_10_Template,3,3,\"span\",39),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](11,\"td\",40),core[\"ɵɵtemplate\"](12,RoleListComponent_div_7_tr_45_a_12_Template,3,8,\"a\",41),core[\"ɵɵtemplate\"](13,RoleListComponent_div_7_tr_45_a_13_Template,3,3,\"a\",42),core[\"ɵɵtemplate\"](14,RoleListComponent_div_7_tr_45_a_14_Template,3,3,\"a\",42),core[\"ɵɵtemplate\"](15,RoleListComponent_div_7_tr_45_a_15_Template,3,3,\"a\",42),core[\"ɵɵelementStart\"](16,\"a\",43),core[\"ɵɵpipe\"](17,\"translate\"),core[\"ɵɵelement\"](18,\"svg-icon\",44),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf){const role_r12=ctx.$implicit,ctx_r7=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](14,_c2,null==role_r12?null:role_r12.id)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](role_r12.id),core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate\"](ctx_r7.currentLanguage.startsWith(\"en\")?role_r12.nameEnglish:role_r12.nameArabic),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",role_r12.roleAuthorities),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",role_r12.activated),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!role_r12.activated),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",role_r12.id!=ctx_r7.loggedInUserRoleId&&ctx_r7.canEditRole),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",role_r12.id!=ctx_r7.loggedInUserRoleId&&role_r12.activated&&ctx_r7.canChangeRoleStatus),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",role_r12.id!=ctx_r7.loggedInUserRoleId&&!role_r12.activated&&ctx_r7.canChangeRoleStatus),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",role_r12.id!=ctx_r7.loggedInUserRoleId&&ctx_r7.canDeleteRole),core[\"ɵɵadvance\"](1),core[\"ɵɵpropertyInterpolate\"](\"ngbTooltip\",core[\"ɵɵpipeBind1\"](17,12,\"general.tooltip_view\")),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction1\"](16,_c2,null==role_r12?null:role_r12.id))}}function RoleListComponent_div_7_nav_46_li_6_Template(rf,ctx){if(1&rf){const _r47=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"li\",60),core[\"ɵɵelementStart\"](1,\"a\",63),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r47);const pageNumber_r45=ctx.index;return core[\"ɵɵnextContext\"](3).loadPage(pageNumber_r45)})),core[\"ɵɵtext\"](2),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()}if(2&rf){const pageNumber_r45=ctx.index,ctx_r43=core[\"ɵɵnextContext\"](3);core[\"ɵɵclassProp\"](\"active\",(null==ctx_r43.page?null:ctx_r43.page.number)==pageNumber_r45),core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate\"](pageNumber_r45+1)}}function RoleListComponent_div_7_nav_46_Template(rf,ctx){if(1&rf){const _r49=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"nav\",58),core[\"ɵɵelementStart\"](1,\"ul\",59),core[\"ɵɵelementStart\"](2,\"li\",60),core[\"ɵɵelementStart\"](3,\"a\",61),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r49);const ctx_r48=core[\"ɵɵnextContext\"](2);return ctx_r48.loadPage((null==ctx_r48.page?null:ctx_r48.page.number)-1)})),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](6,RoleListComponent_div_7_nav_46_li_6_Template,3,3,\"li\",62),core[\"ɵɵelementStart\"](7,\"li\",60),core[\"ɵɵelementStart\"](8,\"a\",63),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r49);const ctx_r50=core[\"ɵɵnextContext\"](2);return ctx_r50.loadPage((null==ctx_r50.page?null:ctx_r50.page.number)+1)})),core[\"ɵɵtext\"](9),core[\"ɵɵpipe\"](10,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r8=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](2),core[\"ɵɵclassProp\"](\"disabled\",null==ctx_r8.page?null:ctx_r8.page.first),core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](5,7,\"general.nav_previous\"),\" \"),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",ctx_r8.pageArray),core[\"ɵɵadvance\"](1),core[\"ɵɵclassProp\"](\"disabled\",null==ctx_r8.page?null:ctx_r8.page.last),core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](10,9,\"general.nav_next\"),\" \")}}function RoleListComponent_div_7_Template(rf,ctx){if(1&rf){const _r52=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",6),core[\"ɵɵelementStart\"](1,\"div\",8),core[\"ɵɵelementStart\"](2,\"form\",9),core[\"ɵɵelementStart\"](3,\"div\",10),core[\"ɵɵelementStart\"](4,\"label\",11),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](7,RoleListComponent_div_7_input_7_Template,1,0,\"input\",12),core[\"ɵɵtemplate\"](8,RoleListComponent_div_7_input_8_Template,1,0,\"input\",13),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](9,\"div\",10),core[\"ɵɵelementStart\"](10,\"label\",11),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](13,\"select\",14),core[\"ɵɵelementStart\"](14,\"option\",15),core[\"ɵɵtext\"](15),core[\"ɵɵpipe\"](16,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](17,RoleListComponent_div_7_optgroup_17_Template,4,4,\"optgroup\",16),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](18,\"div\",17),core[\"ɵɵelementStart\"](19,\"button\",18),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r52),core[\"ɵɵnextContext\"]().search()})),core[\"ɵɵtext\"](20),core[\"ɵɵpipe\"](21,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](22,\"button\",19),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r52),core[\"ɵɵnextContext\"]().cancelSearch()})),core[\"ɵɵtext\"](23),core[\"ɵɵpipe\"](24,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](25,\"div\",20),core[\"ɵɵelementStart\"](26,\"table\",21),core[\"ɵɵelementStart\"](27,\"thead\"),core[\"ɵɵelementStart\"](28,\"tr\"),core[\"ɵɵelementStart\"](29,\"th\",22),core[\"ɵɵtext\"](30,\"#\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](31,\"th\",23),core[\"ɵɵtext\"](32),core[\"ɵɵpipe\"](33,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](34,\"th\",22),core[\"ɵɵtext\"](35),core[\"ɵɵpipe\"](36,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](37,\"th\",22),core[\"ɵɵtext\"](38),core[\"ɵɵpipe\"](39,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](40,\"th\",22),core[\"ɵɵtext\"](41),core[\"ɵɵpipe\"](42,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](43,\"tbody\"),core[\"ɵɵtemplate\"](44,RoleListComponent_div_7_tr_44_Template,6,3,\"tr\",24),core[\"ɵɵtemplate\"](45,RoleListComponent_div_7_tr_45_Template,19,18,\"tr\",16),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](46,RoleListComponent_div_7_nav_46_Template,11,11,\"nav\",25),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r2=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"formGroup\",ctx_r2.searchForm),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](6,18,\"role-management.role_name\")),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",ctx_r2.currentLanguage.startsWith(\"ar\")),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r2.currentLanguage.startsWith(\"en\")),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,20,\"role-management.authority\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngValue\",-1),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](16,22,\"general.select_option\")),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",ctx_r2.authorities),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"disabled\",ctx_r2.searchForm.invalid),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](21,24,\"general.btn_search\"),\" \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](24,26,\"general.btn_clear\"),\" \"),core[\"ɵɵadvance\"](9),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](33,28,\"role-management.role_name\")),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](36,30,\"role-management.authorities\")),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](39,32,\"role-management.role_status\")),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](42,34,\"general.actions\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",!(null!=ctx_r2.page&&ctx_r2.page.content)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngForOf\",null==ctx_r2.page?null:ctx_r2.page.content),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",null==ctx_r2.page?null:ctx_r2.page.content)}}let role_list_component_RoleListComponent=(()=>{class RoleListComponent{constructor(i18nService,roleService,formBuilder,toastr,translate,confirmDialogService,authenticationService){this.i18nService=i18nService,this.roleService=roleService,this.formBuilder=formBuilder,this.toastr=toastr,this.translate=translate,this.confirmDialogService=confirmDialogService,this.authenticationService=authenticationService}ngOnInit(){var _a;this.loggedInUserRoleId=null===(_a=this.authenticationService.currentUser.role)||void 0===_a?void 0:_a.id,this.canAddRole=this.authenticationService.hasAuthority(authority_enum.a.ADD_ROLE),this.loadPage(0),this.initForm(),this.getAuthorities()}ngOnDestroy(){this.listSubscription&&this.listSubscription.unsubscribe(),this.activateSubscription&&this.activateSubscription.unsubscribe(),this.deactivateSubscription&&this.deactivateSubscription.unsubscribe(),this.deleteSubscription&&this.deleteSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe()}getAuthorities(){this.roleService.listAuthorities().subscribe(data=>{this.authorities=[...data]})}initForm(){this.searchForm=this.formBuilder.group({authorityId:[-1],roleNameAr:[null],roleNameEn:[null]})}loadPage(page){this.listSubscription=this.roleService.listPaginated().subscribe(data=>{this.page=data,null!=this.page&&(this.pageArray=Array.from(this.pageCounter(this.page.totalPages)),this.roles=this.page.content,this.canEditRole=this.authenticationService.hasAuthority(authority_enum.a.EDIT_ROLE),this.canChangeRoleStatus=this.authenticationService.hasAuthority(authority_enum.a.CHANGE_ROLE_STATUS),this.canDeleteRole=this.authenticationService.hasAuthority(authority_enum.a.DELETE_ROLE))})}pageCounter(i){return new Array(i)}get currentLanguage(){return this.i18nService.language}search(){this.searchSubscription=this.roleService.search(this.searchForm.value.authorityId,this.searchForm.value.roleNameAr,this.searchForm.value.roleNameEn).subscribe(data=>{this.roles=[],this.pageArray=[],this.page=data,null!=this.page&&(this.pageArray=Array.from(this.pageCounter(this.page.totalPages)),this.roles=this.page.content)})}cancelSearch(){this.loadPage(0),this.initForm()}deleteRole(roleId){this.confirmDialogService.confirm(\"role-management.dialog_delete_confirm_text\",\"role-management.dialog_delete_title\").then(confirm=>{confirm&&(this.deleteSubscription=this.roleService.delete(roleId).subscribe(_=>{this.toastr.success(this.translate.instant(\"role-management.dialog_delete_success_text\"),this.translate.instant(\"role-management.dialog_delete_title\")),this.loadPage(0)},error=>{this.toastr.error(this.translate.instant(\"general.dialog_error_text\"),this.translate.instant(\"role-management.dialog_delete_title\"))}))})}activateRole(roleId){this.confirmDialogService.confirm(\"role-management.dialog_activate_confirm_text\",\"role-management.dialog_activate_title\").then(confirm=>{confirm&&(this.activateSubscription=this.roleService.activate(roleId).subscribe(_=>{this.toastr.success(this.translate.instant(\"role-management.dialog_activate_success_text\"),this.translate.instant(\"role-management.dialog_activate_title\")),this.loadPage(0)},error=>{this.toastr.error(this.translate.instant(\"general.dialog_error_text\"),this.translate.instant(\"role-management.dialog_activate_title\"))}))})}deactivateRole(roleId){this.confirmDialogService.confirm(\"role-management.dialog_deactivate_confirm_text\",\"role-management.dialog_deactivate_title\").then(confirm=>{confirm&&(this.deactivateSubscription=this.roleService.deactivate(roleId).subscribe(_=>{this.toastr.success(this.translate.instant(\"role-management.dialog_deactivate_success_text\"),this.translate.instant(\"role-management.dialog_deactivate_title\")),this.loadPage(0)},error=>{this.toastr.error(this.translate.instant(\"general.dialog_error_text\"),this.translate.instant(\"role-management.dialog_deactivate_title\"))}))})}get canSeeRoleList(){return this.authenticationService.hasAuthority(authority_enum.a.ROLE_MANAGEMENT)}}return RoleListComponent.ɵfac=function(t){return new(t||RoleListComponent)(core[\"ɵɵdirectiveInject\"](dcc_commons_ng_services.b),core[\"ɵɵdirectiveInject\"](role_service.a),core[\"ɵɵdirectiveInject\"](fesm2015_forms.FormBuilder),core[\"ɵɵdirectiveInject\"](toast_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.e),core[\"ɵɵdirectiveInject\"](confirm_dialog.b),core[\"ɵɵdirectiveInject\"](services.b))},RoleListComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:RoleListComponent,selectors:[[\"app-applicant-list\"]],decls:8,vars:6,consts:[[1,\"content__wrapper\"],[1,\"title__Page\"],[1,\"sectionTitle\"],[\"routerLink\",\"/roles/create\",\"class\",\"btn btn-outline-dcc-primary px-4\",4,\"ngIf\"],[\"class\",\"content__section\",4,\"ngIf\"],[\"routerLink\",\"/roles/create\",1,\"btn\",\"btn-outline-dcc-primary\",\"px-4\"],[1,\"content__section\"],[1,\"font-weight-bold\",\"text-dcc-primary\"],[1,\"searchBox\"],[\"enctype\",\"multipart/form-data\",1,\"row\",\"row-cols-1\",\"row-cols-md-2\",\"row-cols-lg-3\",3,\"formGroup\"],[1,\"form-group\",\"col\"],[1,\"col-form-label\"],[\"type\",\"text\",\"formControlName\",\"roleNameAr\",\"class\",\"form-control\",4,\"ngIf\"],[\"type\",\"text\",\"formControlName\",\"roleNameEn\",\"class\",\"form-control\",4,\"ngIf\"],[\"formControlName\",\"authorityId\",1,\"custom-select\"],[\"disabled\",\"\",\"selected\",\"\",1,\"hidden\",3,\"ngValue\"],[4,\"ngFor\",\"ngForOf\"],[1,\"form-group\",\"col\",\"align-self-end\"],[\"type\",\"submit\",1,\"btn\",\"btn-outline-dcc-primary\",\"px-5\",\"mr-3\",3,\"disabled\",\"click\"],[1,\"btn\",\"btn-outline-secondary\",3,\"click\"],[1,\"table-responsive\",\"my-4\"],[1,\"table\",\"table-striped\",\"table-hover\"],[\"scope\",\"col\",1,\"text-center\"],[\"scope\",\"col\"],[\"class\",\"text-center\",4,\"ngIf\"],[\"aria-label\",\"Page navigation example\",4,\"ngIf\"],[\"type\",\"text\",\"formControlName\",\"roleNameAr\",1,\"form-control\"],[\"type\",\"text\",\"formControlName\",\"roleNameEn\",1,\"form-control\"],[3,\"ngValue\"],[3,\"ngValue\",4,\"ngFor\",\"ngForOf\"],[1,\"text-center\"],[\"colspan\",\"10\"],[\"styleClass\",\"display-1 text-light-gray\",\"icon\",\"empty-set\"],[1,\"text-light-gray\",\"mb-3\"],[\"scope\",\"row\",1,\"text-center\"],[1,\"text-dcc-primary\",\"font-weight-bold\",3,\"routerLink\"],[\"width\",\"15%\"],[2,\"text-align\",\"center\"],[\"class\",\"badge badge-success py-2 px-4 badge-pill\",4,\"ngIf\"],[\"class\",\"badge badge-warning py-2 px-4 badge-pill\",4,\"ngIf\"],[\"width\",\"20%\",1,\"text-center\",2,\"text-align\",\"center\"],[\"class\",\"action mx-2\",3,\"routerLink\",\"queryParams\",\"ngbTooltip\",4,\"ngIf\"],[\"class\",\"action mx-2\",\"href\",\"javascript:void(0)\",3,\"ngbTooltip\",\"click\",4,\"ngIf\"],[1,\"action\",\"mx-2\",3,\"routerLink\",\"ngbTooltip\"],[\"styleClass\",\"text-dcc-primary h3\",\"icon\",\"eye\"],[4,\"ngIf\"],[\"class\",\"badge badge-info py-1 px-2 badge-pill mx-1\",\"href\",\"javascript:void(0);\",4,\"ngIf\"],[\"href\",\"javascript:void(0);\",1,\"badge\",\"badge-info\",\"py-1\",\"px-2\",\"badge-pill\",\"mx-1\"],[\"class\",\"badge badge-dcc-primary py-1 px-2 badge-pill mx-1\",4,\"ngIf\"],[1,\"badge\",\"badge-dcc-primary\",\"py-1\",\"px-2\",\"badge-pill\",\"mx-1\"],[1,\"badge\",\"badge-success\",\"py-2\",\"px-4\",\"badge-pill\"],[1,\"badge\",\"badge-warning\",\"py-2\",\"px-4\",\"badge-pill\"],[1,\"action\",\"mx-2\",3,\"routerLink\",\"queryParams\",\"ngbTooltip\"],[\"styleClass\",\"text-info h3\",\"icon\",\"edit\"],[\"href\",\"javascript:void(0)\",1,\"action\",\"mx-2\",3,\"ngbTooltip\",\"click\"],[\"styleClass\",\"text-warning h3\",\"icon\",\"user-tag-minus\"],[\"styleClass\",\"text-success h3\",\"icon\",\"user-tag-check\"],[\"styleClass\",\"text-danger h3\",\"icon\",\"user-tag-times\"],[\"aria-label\",\"Page navigation example\"],[1,\"pagination\",\"justify-content-center\"],[1,\"page-item\"],[\"tabindex\",\"-1\",1,\"page-link\",3,\"click\"],[\"class\",\"page-item\",3,\"active\",4,\"ngFor\",\"ngForOf\"],[1,\"page-link\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵelementStart\"](1,\"div\",1),core[\"ɵɵelementStart\"](2,\"h2\",2),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](5,RoleListComponent_a_5_Template,3,3,\"a\",3),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](6,RoleListComponent_div_6_Template,6,6,\"div\",4),core[\"ɵɵtemplate\"](7,RoleListComponent_div_7_Template,47,36,\"div\",4),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](4,4,\"role-management.roles_list\")),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",ctx.canAddRole),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!ctx.canSeeRoleList),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx.canSeeRoleList))},directives:[common.u,fesm2015_router.i,fesm2015_forms[\"ɵangular_packages_forms_forms_y\"],fesm2015_forms.NgControlStatusGroup,fesm2015_forms.FormGroupDirective,fesm2015_forms.SelectControlValueAccessor,fesm2015_forms.NgControlStatus,fesm2015_forms.FormControlName,fesm2015_forms.NgSelectOption,fesm2015_forms[\"ɵangular_packages_forms_forms_x\"],common.t,fesm2015_forms.DefaultValueAccessor,icon_component.a,ng_bootstrap.Q],pipes:[ngx_translate_core.d],styles:[\"input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}\"]}),RoleListComponent})();var combineLatest=__webpack_require__(\"itXk\"),map=__webpack_require__(\"lJxs\"),dcc_commons_ng_pipes=__webpack_require__(\"ADU/\");function RoleDetailsComponent_div_7_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",5),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementStart\"](3,\"span\",6),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,2,\"header.welcome\"),\" \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](5,4,\"general.app_name\")))}function RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_span_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",22),core[\"ɵɵtext\"](1),core[\"ɵɵelementEnd\"]()),2&rf){const roleAuthority_r5=core[\"ɵɵnextContext\"](3).$implicit,ctx_r8=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r8.currentLanguage.startsWith(\"en\")?roleAuthority_r5.authority.nameEnglish:roleAuthority_r5.authority.nameArabic,\" \")}}function RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_ng_container_3_span_1_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",22),core[\"ɵɵtext\"](1),core[\"ɵɵelementEnd\"]()),2&rf){const childRoleAuthority_r11=core[\"ɵɵnextContext\"]().$implicit,ctx_r12=core[\"ɵɵnextContext\"](5);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r12.currentLanguage.startsWith(\"en\")?childRoleAuthority_r11.authority.nameEnglish:childRoleAuthority_r11.authority.nameArabic,\" \")}}function RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_ng_container_3_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_ng_container_3_span_1_Template,2,1,\"span\",21),core[\"ɵɵelementContainerEnd\"]()),2&rf){const childRoleAuthority_r11=ctx.$implicit,roleAuthority_r5=core[\"ɵɵnextContext\"](3).$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",childRoleAuthority_r11.authority.parentId===roleAuthority_r5.authority.id)}}function RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"a\",20),core[\"ɵɵtext\"](1),core[\"ɵɵtemplate\"](2,RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_span_2_Template,2,1,\"span\",21),core[\"ɵɵtemplate\"](3,RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_ng_container_3_Template,2,1,\"ng-container\",13),core[\"ɵɵelementEnd\"]()),2&rf){const roleAuthority_r5=core[\"ɵɵnextContext\"](2).$implicit,ctx_r7=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r7.currentLanguage.startsWith(\"en\")?roleAuthority_r5.authority.nameEnglish:roleAuthority_r5.authority.nameArabic,\" \"),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!(roleAuthority_r5.authority.parentId||roleAuthority_r5.authority.children&&roleAuthority_r5.authority.children.length)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngForOf\",ctx_r7.role.roleAuthorities)}}function RoleDetailsComponent_div_8_ng_container_14_ng_container_1_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleDetailsComponent_div_8_ng_container_14_ng_container_1_a_1_Template,4,3,\"a\",19),core[\"ɵɵelementContainerEnd\"]()),2&rf){const roleAuthority_r5=core[\"ɵɵnextContext\"]().$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!roleAuthority_r5.authority.parentId)}}function RoleDetailsComponent_div_8_ng_container_14_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleDetailsComponent_div_8_ng_container_14_ng_container_1_Template,2,1,\"ng-container\",18),core[\"ɵɵelementContainerEnd\"]()),2&rf){const roleAuthority_r5=ctx.$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!roleAuthority_r5.authority.parentId)}}function RoleDetailsComponent_div_8_span_20_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",23),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,1,\"user-management.not_activated\"),\" \"))}function RoleDetailsComponent_div_8_span_21_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"span\",24),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,1,\"user-management.activated\"),\" \"))}const role_details_component_c0=function(){return[\"/roles/list\"]};function RoleDetailsComponent_div_8_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",5),core[\"ɵɵelementStart\"](1,\"form\",7),core[\"ɵɵelementStart\"](2,\"div\",8),core[\"ɵɵelementStart\"](3,\"div\",9),core[\"ɵɵelementStart\"](4,\"label\",10),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](7,\"span\",11),core[\"ɵɵtext\"](8),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](9,\"div\",12),core[\"ɵɵelementStart\"](10,\"label\",10),core[\"ɵɵtext\"](11),core[\"ɵɵpipe\"](12,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](13,\"div\",11),core[\"ɵɵtemplate\"](14,RoleDetailsComponent_div_8_ng_container_14_Template,2,1,\"ng-container\",13),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](15,\"div\",9),core[\"ɵɵelementStart\"](16,\"label\",10),core[\"ɵɵtext\"](17),core[\"ɵɵpipe\"](18,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](19,\"div\",11),core[\"ɵɵtemplate\"](20,RoleDetailsComponent_div_8_span_20_Template,3,3,\"span\",14),core[\"ɵɵtemplate\"](21,RoleDetailsComponent_div_8_span_21_Template,3,3,\"span\",15),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](22,\"div\",9),core[\"ɵɵelementStart\"](23,\"label\",10),core[\"ɵɵtext\"](24),core[\"ɵɵpipe\"](25,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](26,\"span\",11),core[\"ɵɵtext\"](27),core[\"ɵɵpipe\"](28,\"dateFormat\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](29,\"div\",9),core[\"ɵɵelementStart\"](30,\"label\",10),core[\"ɵɵtext\"](31),core[\"ɵɵpipe\"](32,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](33,\"span\",11),core[\"ɵɵtext\"](34),core[\"ɵɵpipe\"](35,\"dateFormat\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](36,\"div\",16),core[\"ɵɵelementStart\"](37,\"button\",17),core[\"ɵɵtext\"](38),core[\"ɵɵpipe\"](39,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r1=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](5),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](6,13,\"role-management.role_name\")),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](ctx_r1.currentLanguage.startsWith(\"en\")?null==ctx_r1.role?null:ctx_r1.role.nameEnglish:null==ctx_r1.role?null:ctx_r1.role.nameArabic),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](12,15,\"role-management.authorities\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngForOf\",null==ctx_r1.role?null:ctx_r1.role.roleAuthorities),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](18,17,\"role-management.role_status\")),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"ngIf\",!(null!=ctx_r1.role&&ctx_r1.role.activated)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",null==ctx_r1.role?null:ctx_r1.role.activated),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](25,19,\"role-management.creation_date\")),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](28,21,null==ctx_r1.role?null:ctx_r1.role.creationDate)),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](32,23,\"role-management.update_date\")),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](null!=ctx_r1.role&&ctx_r1.role.updateDate?core[\"ɵɵpipeBind1\"](35,25,null==ctx_r1.role?null:ctx_r1.role.updateDate):\"--\"),core[\"ɵɵadvance\"](3),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction0\"](29,role_details_component_c0)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](39,27,\"general.btn_back\"),\" \")}}let role_details_component_RoleDetailsComponent=(()=>{class RoleDetailsComponent{constructor(route,router,toastr,translate,formBuilder,i18nService,roleService,authenticationService){this.route=route,this.router=router,this.toastr=toastr,this.translate=translate,this.formBuilder=formBuilder,this.i18nService=i18nService,this.roleService=roleService,this.authenticationService=authenticationService}get f(){return this.roleDetailsForm.controls}get currentLanguage(){return this.i18nService.language}loadAuthorities(){this.roleService.listAuthorities().subscribe(data=>{this.authorities=[...data]})}ngOnInit(){this.editMode=!1,this.loadAuthorities(),this.initForm(),Object(combineLatest.a)(this.route.params,this.route.queryParams).pipe(Object(map.a)(results=>({params:results[0].id,qParams:results[1]}))).subscribe(results=>{this.roleId=+results.params,this.roleId?this.roleService.find(this.roleId).subscribe(data=>{data&&data.id?(this.role=data,results.qParams.edit&&this.enableEditMode(),this.updateForm()):(this.toastr.error(this.translate.instant(\"general.route_item_not_found\",{itemId:this.roleId}),this.translate.instant(\"general.dialog_error_title\")),this.goToList())}):(this.toastr.error(this.translate.instant(\"general.route_id_param_not_found\"),this.translate.instant(\"general.dialog_error_title\")),this.goToList())})}goToList(){this.router.navigate([\"/roles/list\"])}enableEditMode(){this.editMode=!0}saveOrUpdate(){this.roleDetailsForm.invalid||(this.updateUserModel(),this.roleService.saveOrUpdate(this.role).subscribe(res=>{res.hasOwnProperty(\"errors\")&&res.errors?(this.toastr.warning(this.translate.instant(\"general.dialog_form_error_text\"),this.translate.instant(\"general.dialog_edit_title\")),Object.keys(this.roleDetailsForm.controls).forEach(field=>{if(console.log(\"looking for validation errors for : \"+field),res.errors[field]){const control=this.roleDetailsForm.get(field);control.setErrors({invalid:res.errors[field].replace(/\\{/,\"\").replace(/\\}/,\"\")}),control.markAsTouched({onlySelf:!0})}})):(this.role=res,this.enableViewMode(),this.toastr.success(this.translate.instant(\"general.dialog_edit_success_text\"),this.translate.instant(\"general.dialog_edit_title\")))}))}updateUserModel(){}enableViewMode(){this.editMode=!1}initForm(){this.roleDetailsForm=this.formBuilder.group({id:[\"\"],nin:[\"\",fesm2015_forms.Validators.required],gender:[\"\"],mobileNumber:[\"\",fesm2015_forms.Validators.required],firstName:[\"\",fesm2015_forms.Validators.required],fatherName:[\"\",fesm2015_forms.Validators.required],email:[\"\",[fesm2015_forms.Validators.required,fesm2015_forms.Validators.email]],grandFatherName:[\"\"],familyName:[\"\",fesm2015_forms.Validators.required],dateOfBirthGregorian:[\"\",fesm2015_forms.Validators.required],dateOfBirthHijri:[\"\"],avatar:[\"\"],roleId:[\"\",fesm2015_forms.Validators.required]})}updateForm(){}resetUserRolesCheckboxes(event){for(let role of this.authorities)if(role.id==event.value)break}formatDate(date){return date.year+\"-\"+(\"00\"+date.month).slice(-2)+\"-\"+(\"00\"+date.day).slice(-2)}get canSeeRoleDetails(){return this.authenticationService.hasAuthority(authority_enum.a.ROLE_MANAGEMENT)}}return RoleDetailsComponent.ɵfac=function(t){return new(t||RoleDetailsComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](fesm2015_router.f),core[\"ɵɵdirectiveInject\"](toast_service.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.e),core[\"ɵɵdirectiveInject\"](fesm2015_forms.FormBuilder),core[\"ɵɵdirectiveInject\"](dcc_commons_ng_services.b),core[\"ɵɵdirectiveInject\"](role_service.a),core[\"ɵɵdirectiveInject\"](services.b))},RoleDetailsComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:RoleDetailsComponent,selectors:[[\"app-user-details\"]],features:[core[\"ɵɵProvidersFeature\"]([common.f])],decls:9,vars:6,consts:[[1,\"content__wrapper\"],[1,\"title__Page\"],[1,\"sectionTitle\"],[1,\"text-dcc-primary\"],[\"class\",\"content__section\",4,\"ngIf\"],[1,\"content__section\"],[1,\"font-weight-bold\",\"text-dcc-primary\"],[\"enctype\",\"multipart/form-data\"],[1,\"row\",\"row-cols-1\",\"row-cols-md-2\",\"row-cols-lg-3\"],[1,\"form-group\",\"col\"],[1,\"col-form-label\"],[1,\"form-control-plaintext\"],[1,\"form-group\",\"col\",\"col-lg-8\",\"col-md-8\"],[4,\"ngFor\",\"ngForOf\"],[\"class\",\"badge badge-danger py-2 px-4 badge-pill\",4,\"ngIf\"],[\"class\",\"badge badge-success py-2 px-4 badge-pill\",4,\"ngIf\"],[1,\"content__footer__action\"],[\"type\",\"button\",1,\"btn\",\"btn-outline-secondary\",\"btn-w100\",\"px-5\",\"mr-3\",3,\"routerLink\"],[4,\"ngIf\"],[\"class\",\"badge badge-info py-1 px-2 badge-pill mx-1\",\"href\",\"javascript:void(0);\",4,\"ngIf\"],[\"href\",\"javascript:void(0);\",1,\"badge\",\"badge-info\",\"py-1\",\"px-2\",\"badge-pill\",\"mx-1\"],[\"class\",\"badge badge-dcc-primary py-1 px-2 badge-pill mx-1\",4,\"ngIf\"],[1,\"badge\",\"badge-dcc-primary\",\"py-1\",\"px-2\",\"badge-pill\",\"mx-1\"],[1,\"badge\",\"badge-danger\",\"py-2\",\"px-4\",\"badge-pill\"],[1,\"badge\",\"badge-success\",\"py-2\",\"px-4\",\"badge-pill\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵelementStart\"](1,\"div\",1),core[\"ɵɵelementStart\"](2,\"h2\",2),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵelementStart\"](5,\"b\",3),core[\"ɵɵtext\"](6),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](7,RoleDetailsComponent_div_7_Template,6,6,\"div\",4),core[\"ɵɵtemplate\"](8,RoleDetailsComponent_div_8_Template,40,30,\"div\",4),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](4,4,\"role-management.role_details\"),\" \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](ctx.currentLanguage.startsWith(\"en\")?null==ctx.role?null:ctx.role.nameEnglish:null==ctx.role?null:ctx.role.nameArabic),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!ctx.canSeeRoleDetails),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx.canSeeRoleDetails))},directives:[common.u,fesm2015_forms[\"ɵangular_packages_forms_forms_y\"],fesm2015_forms.NgControlStatusGroup,fesm2015_forms.NgForm,common.t,fesm2015_router.g],pipes:[ngx_translate_core.d,dcc_commons_ng_pipes.c],styles:[\".rounded-circle[_ngcontent-%COMP%]{max-width:75px;max-height:75px}#avatarFile[_ngcontent-%COMP%]{display:none}.title__Page[_ngcontent-%COMP%]{align-items:center!important}\"]}),RoleDetailsComponent})();var role_model=__webpack_require__(\"xJks\"),role_authority_model=__webpack_require__(\"jJTu\"),validators=__webpack_require__(\"ousT\");function RoleAddUpdateComponent_b_5_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"b\",5),core[\"ɵɵtext\"](1),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r0=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\"#\",null==ctx_r0.role?null:ctx_r0.role.id,\"\")}}function RoleAddUpdateComponent_div_6_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",6),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementStart\"](3,\"span\",7),core[\"ɵɵtext\"](4),core[\"ɵɵpipe\"](5,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](2,2,\"header.welcome\"),\" \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](5,4,\"general.app_name\")))}function RoleAddUpdateComponent_div_7_div_10_div_1_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,\"general.field_validation_required\")))}function RoleAddUpdateComponent_div_7_div_10_div_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r8=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,ctx_r8.f.nameArabic.errors.invalid))}}function RoleAddUpdateComponent_div_7_div_10_div_3_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r9=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,ctx_r9.f.nameArabic.errors[\"invalid-characters\"]))}}function RoleAddUpdateComponent_div_7_div_10_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",24),core[\"ɵɵtemplate\"](1,RoleAddUpdateComponent_div_7_div_10_div_1_Template,3,3,\"div\",25),core[\"ɵɵtemplate\"](2,RoleAddUpdateComponent_div_7_div_10_div_2_Template,3,3,\"div\",25),core[\"ɵɵtemplate\"](3,RoleAddUpdateComponent_div_7_div_10_div_3_Template,3,3,\"div\",25),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r3=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r3.f.nameArabic.errors.required),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r3.f.nameArabic.errors.invalid),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r3.f.nameArabic.errors[\"invalid-characters\"])}}function RoleAddUpdateComponent_div_7_div_18_div_1_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,\"general.field_validation_required\")))}function RoleAddUpdateComponent_div_7_div_18_div_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r11=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,ctx_r11.f.nameEnglish.errors.invalid))}}function RoleAddUpdateComponent_div_7_div_18_div_3_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r12=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,ctx_r12.f.nameEnglish.errors[\"invalid-characters\"]))}}function RoleAddUpdateComponent_div_7_div_18_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",24),core[\"ɵɵtemplate\"](1,RoleAddUpdateComponent_div_7_div_18_div_1_Template,3,3,\"div\",25),core[\"ɵɵtemplate\"](2,RoleAddUpdateComponent_div_7_div_18_div_2_Template,3,3,\"div\",25),core[\"ɵɵtemplate\"](3,RoleAddUpdateComponent_div_7_div_18_div_3_Template,3,3,\"div\",25),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r4=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r4.f.nameEnglish.errors.required),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r4.f.nameEnglish.errors.invalid),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r4.f.nameEnglish.errors[\"invalid-characters\"])}}function RoleAddUpdateComponent_div_7_div_34_div_1_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,\"general.field_validation_required\")))}function RoleAddUpdateComponent_div_7_div_34_div_2_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\"),core[\"ɵɵtext\"](1),core[\"ɵɵpipe\"](2,\"translate\"),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r14=core[\"ɵɵnextContext\"](3);core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](2,1,ctx_r14.f.activated.errors.invalid))}}function RoleAddUpdateComponent_div_7_div_34_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",24),core[\"ɵɵtemplate\"](1,RoleAddUpdateComponent_div_7_div_34_div_1_Template,3,3,\"div\",25),core[\"ɵɵtemplate\"](2,RoleAddUpdateComponent_div_7_div_34_div_2_Template,3,3,\"div\",25),core[\"ɵɵelementEnd\"]()),2&rf){const ctx_r5=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r5.f.activated.errors.required),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r5.f.activated.errors.invalid)}}const role_add_update_component_c0=function(){return{standalone:!0}};function RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_label_4_Template(rf,ctx){if(1&rf){const _r21=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"label\",29),core[\"ɵɵelement\"](1,\"svg-icon\",30),core[\"ɵɵelementStart\"](2,\"input\",31),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return core[\"ɵɵrestoreView\"](_r21),core[\"ɵɵnextContext\"](2).$implicit.selected=$event})),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](3),core[\"ɵɵelementEnd\"]()}if(2&rf){const roleAuthority_r15=core[\"ɵɵnextContext\"](2).$implicit,ctx_r17=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngModel\",roleAuthority_r15.selected)(\"ngModelOptions\",core[\"ɵɵpureFunction0\"](3,role_add_update_component_c0)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r17.currentLanguage.startsWith(\"en\")?roleAuthority_r15.authority.nameEnglish:roleAuthority_r15.authority.nameArabic,\" \")}}function RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_ng_container_5_label_1_Template(rf,ctx){if(1&rf){const _r27=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"label\",29),core[\"ɵɵelement\"](1,\"svg-icon\",30),core[\"ɵɵelementStart\"](2,\"input\",31),core[\"ɵɵlistener\"](\"ngModelChange\",(function($event){return core[\"ɵɵrestoreView\"](_r27),core[\"ɵɵnextContext\"]().$implicit.selected=$event})),core[\"ɵɵelementEnd\"](),core[\"ɵɵtext\"](3),core[\"ɵɵelementEnd\"]()}if(2&rf){const childRoleAuthority_r23=core[\"ɵɵnextContext\"]().$implicit,ctx_r24=core[\"ɵɵnextContext\"](4);core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngModel\",childRoleAuthority_r23.selected)(\"ngModelOptions\",core[\"ɵɵpureFunction0\"](3,role_add_update_component_c0)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r24.currentLanguage.startsWith(\"en\")?childRoleAuthority_r23.authority.nameEnglish:childRoleAuthority_r23.authority.nameArabic,\" \")}}function RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_ng_container_5_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_ng_container_5_label_1_Template,4,4,\"label\",28),core[\"ɵɵelementContainerEnd\"]()),2&rf){const childRoleAuthority_r23=ctx.$implicit,roleAuthority_r15=core[\"ɵɵnextContext\"](2).$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",childRoleAuthority_r23.authority.parentId===roleAuthority_r15.authority.id)}}function RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵelementStart\"](1,\"label\",26),core[\"ɵɵtext\"](2),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](3,\"div\",27),core[\"ɵɵtemplate\"](4,RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_label_4_Template,4,4,\"label\",28),core[\"ɵɵtemplate\"](5,RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_ng_container_5_Template,2,1,\"ng-container\",20),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementContainerEnd\"]()),2&rf){const roleAuthority_r15=core[\"ɵɵnextContext\"]().$implicit,ctx_r16=core[\"ɵɵnextContext\"](2);core[\"ɵɵadvance\"](2),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r16.currentLanguage.startsWith(\"en\")?roleAuthority_r15.authority.nameEnglish:roleAuthority_r15.authority.nameArabic,\" \"),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",!(roleAuthority_r15.authority.parentId||roleAuthority_r15.authority.children&&roleAuthority_r15.authority.children.length)),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngForOf\",ctx_r16.roleAuthorities)}}function RoleAddUpdateComponent_div_7_ng_container_42_Template(rf,ctx){if(1&rf&&(core[\"ɵɵelementContainerStart\"](0),core[\"ɵɵtemplate\"](1,RoleAddUpdateComponent_div_7_ng_container_42_ng_container_1_Template,6,3,\"ng-container\",25),core[\"ɵɵelementContainerEnd\"]()),2&rf){const roleAuthority_r15=ctx.$implicit;core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!roleAuthority_r15.authority.parentId)}}const role_add_update_component_c1=function(){return[\"/roles/list\"]};function RoleAddUpdateComponent_div_7_Template(rf,ctx){if(1&rf){const _r32=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",6),core[\"ɵɵelementStart\"](1,\"form\",8),core[\"ɵɵlistener\"](\"ngSubmit\",(function(){return core[\"ɵɵrestoreView\"](_r32),core[\"ɵɵnextContext\"]().saveOrUpdateRole()})),core[\"ɵɵelementStart\"](2,\"div\",9),core[\"ɵɵelementStart\"](3,\"div\",10),core[\"ɵɵelementStart\"](4,\"label\",11),core[\"ɵɵtext\"](5),core[\"ɵɵpipe\"](6,\"translate\"),core[\"ɵɵelementStart\"](7,\"span\",12),core[\"ɵɵtext\"](8,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelement\"](9,\"input\",13),core[\"ɵɵtemplate\"](10,RoleAddUpdateComponent_div_7_div_10_Template,4,3,\"div\",14),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](11,\"div\",10),core[\"ɵɵelementStart\"](12,\"label\",11),core[\"ɵɵtext\"](13),core[\"ɵɵpipe\"](14,\"translate\"),core[\"ɵɵelementStart\"](15,\"span\",12),core[\"ɵɵtext\"](16,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelement\"](17,\"input\",15),core[\"ɵɵtemplate\"](18,RoleAddUpdateComponent_div_7_div_18_Template,4,3,\"div\",14),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](19,\"div\",10),core[\"ɵɵelementStart\"](20,\"label\",11),core[\"ɵɵtext\"](21),core[\"ɵɵpipe\"](22,\"translate\"),core[\"ɵɵelementStart\"](23,\"span\",12),core[\"ɵɵtext\"](24,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](25,\"div\",16),core[\"ɵɵelementStart\"](26,\"label\",17),core[\"ɵɵelement\"](27,\"input\",18),core[\"ɵɵtext\"](28),core[\"ɵɵpipe\"](29,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](30,\"label\",17),core[\"ɵɵelement\"](31,\"input\",18),core[\"ɵɵtext\"](32),core[\"ɵɵpipe\"](33,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](34,RoleAddUpdateComponent_div_7_div_34_Template,3,2,\"div\",14),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](35,\"div\",19),core[\"ɵɵelementStart\"](36,\"div\",10),core[\"ɵɵelementStart\"](37,\"label\",11),core[\"ɵɵtext\"](38),core[\"ɵɵpipe\"](39,\"translate\"),core[\"ɵɵelementStart\"](40,\"span\",12),core[\"ɵɵtext\"](41,\"*\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](42,RoleAddUpdateComponent_div_7_ng_container_42_Template,2,1,\"ng-container\",20),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](43,\"div\",21),core[\"ɵɵelementStart\"](44,\"button\",22),core[\"ɵɵtext\"](45),core[\"ɵɵpipe\"](46,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](47,\"button\",23),core[\"ɵɵlistener\"](\"click\",(function(){return core[\"ɵɵrestoreView\"](_r32),core[\"ɵɵnextContext\"]().saveOrUpdateRole()})),core[\"ɵɵtext\"](48),core[\"ɵɵpipe\"](49,\"translate\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()}if(2&rf){const ctx_r2=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"formGroup\",ctx_r2.roleForm),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](6,28,\"role-management.role_name_ar\")),core[\"ɵɵadvance\"](4),core[\"ɵɵclassProp\"](\"is-invalid\",ctx_r2.f.nameArabic.invalid&&ctx_r2.f.nameArabic.touched),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r2.f.nameArabic.invalid&&ctx_r2.f.nameArabic.touched),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](14,30,\"role-management.role_name_en\")),core[\"ɵɵadvance\"](4),core[\"ɵɵclassProp\"](\"is-invalid\",ctx_r2.f.nameEnglish.invalid&&ctx_r2.f.nameEnglish.touched),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx_r2.f.nameEnglish.invalid&&ctx_r2.f.nameEnglish.touched),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](22,32,\"role-management.role_status\")),core[\"ɵɵadvance\"](5),core[\"ɵɵclassProp\"](\"btn-outline-secondary\",!ctx_r2.roleForm.value.activated)(\"btn-success\",ctx_r2.roleForm.value.activated),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"value\",!0),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](29,34,\"user-management.activated\"),\" \"),core[\"ɵɵadvance\"](2),core[\"ɵɵclassProp\"](\"btn-outline-secondary\",ctx_r2.roleForm.value.activated)(\"btn-danger\",!ctx_r2.roleForm.value.activated),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"value\",!1),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](33,36,\"user-management.not_activated\"),\" \"),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",ctx_r2.f.activated.invalid&&ctx_r2.f.activated.touched),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate\"](core[\"ɵɵpipeBind1\"](39,38,\"role-management.authorities\")),core[\"ɵɵadvance\"](4),core[\"ɵɵproperty\"](\"ngForOf\",ctx_r2.roleAuthorities),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"routerLink\",core[\"ɵɵpureFunction0\"](44,role_add_update_component_c1)),core[\"ɵɵadvance\"](1),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](46,40,\"general.btn_cancel\"),\" \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\" \",core[\"ɵɵpipeBind1\"](49,42,\"general.btn_save\"),\" \")}}let role_add_update_component_RoleAddUpdateComponent=(()=>{class RoleAddUpdateComponent{constructor(formBuilder,roleService,i18nService,router,activeRoute,translate,toastr,authenticationService){this.formBuilder=formBuilder,this.roleService=roleService,this.i18nService=i18nService,this.router=router,this.activeRoute=activeRoute,this.translate=translate,this.toastr=toastr,this.authenticationService=authenticationService,this.role=new role_model.a,this.roleAuthorities=[],this.selectedAuthorities=[]}ngOnInit(){this.initRoleForm(),this.loadAuthorities()}loadAuthorities(){this.roleService.listAuthorities().subscribe(data=>{this.roleAuthorities=[],data&&data.forEach(authority=>{this.addRoleAuthority(authority),authority.children&&authority.children.forEach(childAuthority=>this.addRoleAuthority(childAuthority))});let roleId=this.activeRoute.snapshot.params.id;roleId&&this.roleService.find(roleId).subscribe(role=>{this.role=role,this.updateRoleForm()})})}addRoleAuthority(authority){let ra=new role_authority_model.a;ra.authority=authority,this.roleAuthorities.push(ra)}get f(){return this.roleForm.controls}initRoleForm(){this.roleForm=this.formBuilder.group({nameArabic:[\"\",[fesm2015_forms.Validators.required,validators.a.arabicCharacters(!1),fesm2015_forms.Validators.maxLength(60),fesm2015_forms.Validators.minLength(3)]],nameEnglish:[\"\",[fesm2015_forms.Validators.required,validators.a.latinCharacters(!1),fesm2015_forms.Validators.maxLength(60),fesm2015_forms.Validators.minLength(3)]],activated:[!1,fesm2015_forms.Validators.required]})}updateRoleForm(){this.roleForm=this.formBuilder.group({id:[this.role.id],nameArabic:[this.role.nameArabic,[fesm2015_forms.Validators.required,fesm2015_forms.Validators.maxLength(60),fesm2015_forms.Validators.minLength(3)]],nameEnglish:[this.role.nameEnglish,[fesm2015_forms.Validators.required,fesm2015_forms.Validators.maxLength(60),fesm2015_forms.Validators.minLength(3)]],activated:[this.role.activated,fesm2015_forms.Validators.required]}),this.roleAuthorities.forEach(ra=>{this.role.roleAuthorities.filter(roleAuthority=>roleAuthority.authority.id===ra.authority.id).length>0&&(ra.selected=!0)})}goToList(){this.router.navigate([\"/roles/list\"])}get currentLanguage(){return this.i18nService.language}saveOrUpdateRole(){Object.keys(this.roleForm.controls).forEach(field=>{this.roleForm.get(field).markAsTouched({onlySelf:!0})}),this.roleForm.invalid||(this.role=this.roleForm.value,this.role.roleAuthorities=this.roleAuthorities.filter(ra=>ra.selected),this.role.roleAuthorities.forEach(selectedChild=>{let parent=this.roleAuthorities.find(raParent=>raParent.authority.id===selectedChild.authority.parentId);parent&&!this.role.roleAuthorities.find(ra=>ra.authority.id==parent.authority.id)&&this.role.roleAuthorities.push(parent)}),this.roleAuthorities.filter(ra=>null===ra.authority.parentId).forEach(parent=>{this.role.roleAuthorities.find(raSelected=>parent.authority.id==raSelected.authority.id)&&!parent.authority.children.filter(ra=>this.role.roleAuthorities.find(raSelected=>ra.id==raSelected.authority.id)).length&&(this.role.roleAuthorities=this.role.roleAuthorities.filter(raSelected=>raSelected.authority.id!==parent.authority.id))}),this.roleService.saveOrUpdate(this.role).subscribe(res=>{res.hasOwnProperty(\"errors\")&&res.errors?(this.toastr.warning(this.translate.instant(\"general.dialog_form_error_text\"),this.translate.instant(\"general.dialog_edit_title\")),Object.keys(this.roleForm.controls).forEach(field=>{if(console.log(\"looking for validation errors for : \"+field),res.errors[field]){const control=this.roleForm.get(field);control.setErrors({invalid:res.errors[field].replace(/\\{/,\"\").replace(/\\}/,\"\")}),control.markAsTouched({onlySelf:!0})}})):(this.toastr.success(this.translate.instant(\"general.dialog_edit_success_text\"),this.translate.instant(\"general.dialog_edit_title\")),this.goToList())}))}toggleAuthority(roleAuthority){roleAuthority.selected=!roleAuthority.selected}get canSeeAddUpdateRole(){return this.authenticationService.hasAuthority(authority_enum.a.ADD_ROLE)||this.authenticationService.hasAuthority(authority_enum.a.EDIT_ROLE)}}return RoleAddUpdateComponent.ɵfac=function(t){return new(t||RoleAddUpdateComponent)(core[\"ɵɵdirectiveInject\"](fesm2015_forms.FormBuilder),core[\"ɵɵdirectiveInject\"](role_service.a),core[\"ɵɵdirectiveInject\"](dcc_commons_ng_services.b),core[\"ɵɵdirectiveInject\"](fesm2015_router.f),core[\"ɵɵdirectiveInject\"](fesm2015_router.a),core[\"ɵɵdirectiveInject\"](ngx_translate_core.e),core[\"ɵɵdirectiveInject\"](toast_service.a),core[\"ɵɵdirectiveInject\"](services.b))},RoleAddUpdateComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:RoleAddUpdateComponent,selectors:[[\"app-add-update-role\"]],decls:8,vars:6,consts:[[1,\"content__wrapper\"],[1,\"title__Page\"],[1,\"sectionTitle\"],[\"class\",\"text-dcc-primary\",4,\"ngIf\"],[\"class\",\"content__section\",4,\"ngIf\"],[1,\"text-dcc-primary\"],[1,\"content__section\"],[1,\"font-weight-bold\",\"text-dcc-primary\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"row\",\"row-cols-1\",\"row-cols-md-2\",\"row-cols-lg-3\"],[1,\"form-group\",\"col\"],[1,\"col-form-label\"],[1,\"text-danger\",\"px-1\"],[\"type\",\"text\",\"formControlName\",\"nameArabic\",\"required\",\"\",\"maxlength\",\"25\",1,\"form-control\"],[\"class\",\"invalid-feedback\",4,\"ngIf\"],[\"type\",\"text\",\"formControlName\",\"nameEnglish\",\"required\",\"\",\"maxlength\",\"25\",1,\"form-control\"],[\"ngbRadioGroup\",\"\",\"name\",\"radioBasic\",\"formControlName\",\"activated\",1,\"form-control\",\"p-0\",\"border-0\",\"btn-group\",\"btn-group-toggle\"],[\"ngbButtonLabel\",\"\",1,\"btn\"],[\"ngbButton\",\"\",\"type\",\"radio\",3,\"value\"],[1,\"row\",\"row-cols-12\"],[4,\"ngFor\",\"ngForOf\"],[1,\"content__footer__action\"],[\"type\",\"button\",1,\"btn\",\"btn-outline-secondary\",\"btn-w100\",\"px-5\",\"mr-3\",3,\"routerLink\"],[\"type\",\"button\",1,\"btn\",\"btn-outline-dcc-primary\",\"px-5\",\"mr-3\",3,\"click\"],[1,\"invalid-feedback\"],[4,\"ngIf\"],[1,\"col\",\"text-dark\",\"font-weight-bold\"],[1,\"form-control\",\"p-0\",\"border-0\",\"btn-group\",\"btn-group-toggle\"],[\"ngbButtonLabel\",\"\",\"class\",\"btn btn-outline-info\",4,\"ngIf\"],[\"ngbButtonLabel\",\"\",1,\"btn\",\"btn-outline-info\"],[\"styleClass\",\"text-white h3\",\"icon\",\"check-circle\"],[\"ngbButton\",\"\",\"type\",\"checkbox\",3,\"ngModel\",\"ngModelOptions\",\"ngModelChange\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵelementStart\"](1,\"div\",1),core[\"ɵɵelementStart\"](2,\"h2\",2),core[\"ɵɵtext\"](3),core[\"ɵɵpipe\"](4,\"translate\"),core[\"ɵɵtemplate\"](5,RoleAddUpdateComponent_b_5_Template,2,1,\"b\",3),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵtemplate\"](6,RoleAddUpdateComponent_div_6_Template,6,6,\"div\",4),core[\"ɵɵtemplate\"](7,RoleAddUpdateComponent_div_7_Template,50,45,\"div\",4),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\"\",core[\"ɵɵpipeBind1\"](4,4,\"role-management.role_form\"),\" \"),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngIf\",(null==ctx.role?null:ctx.role.id)>0),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!ctx.canSeeAddUpdateRole),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",ctx.canSeeAddUpdateRole))},directives:[common.u,fesm2015_forms[\"ɵangular_packages_forms_forms_y\"],fesm2015_forms.NgControlStatusGroup,fesm2015_forms.FormGroupDirective,fesm2015_forms.DefaultValueAccessor,fesm2015_forms.NgControlStatus,fesm2015_forms.FormControlName,fesm2015_forms.RequiredValidator,fesm2015_forms.MaxLengthValidator,ng_bootstrap.M,ng_bootstrap.b,ng_bootstrap.L,common.t,fesm2015_router.g,icon_component.a,fesm2015_forms.CheckboxControlValueAccessor,ng_bootstrap.g,fesm2015_forms.NgModel],pipes:[ngx_translate_core.d],styles:[\"[dir=rtl][_ngcontent-%COMP%]   .form-control.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:first-child:not(:last-child){border-radius:0 .5rem .5rem 0}[dir=ltr][_ngcontent-%COMP%]   .form-control.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:first-child:not(:last-child){border-radius:.5rem 0 0 .5rem}.btn-group[_ngcontent-%COMP%] > label.btn[_ngcontent-%COMP%]:not(:last-child):not(:first-child):not(.dropdown-toggle){border-radius:0}\"]}),RoleAddUpdateComponent})();const routes=[{path:\"roles/create\",component:role_add_update_component_RoleAddUpdateComponent,canActivate:[services.a]},{path:\"roles/update/:id\",component:role_add_update_component_RoleAddUpdateComponent,canActivate:[services.a]},{path:\"roles/list\",component:role_list_component_RoleListComponent,canActivate:[services.a]},{path:\"roles/details/:id\",component:role_details_component_RoleDetailsComponent,canActivate:[services.a]}];let role_management_routing_module_RoleManagementRoutingModule=(()=>{class RoleManagementRoutingModule{}return RoleManagementRoutingModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:RoleManagementRoutingModule}),RoleManagementRoutingModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||RoleManagementRoutingModule)},providers:[],imports:[[fesm2015_router.j.forChild(routes)],fesm2015_router.j]}),RoleManagementRoutingModule})();var shared_module=__webpack_require__(\"i2L+\"),angular2TextMask=__webpack_require__(\"904P\");let role_management_module_RoleManagementModule=(()=>{class RoleManagementModule{}return RoleManagementModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:RoleManagementModule}),RoleManagementModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||RoleManagementModule)},providers:[],imports:[[common.c,role_management_routing_module_RoleManagementRoutingModule,shared_module.a,ng_bootstrap.w,fesm2015_forms.FormsModule,fesm2015_forms.ReactiveFormsModule,angular2TextMask.TextMaskModule,ngx_translate_core.c]]}),RoleManagementModule})()}}]);","extractedComments":[]}